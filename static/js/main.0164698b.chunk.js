(this.webpackJsonpsolstake=this.webpackJsonpsolstake||[]).push([[0],{127:function(e,t,n){},128:function(e,t,n){},129:function(e,t){},133:function(e,t){},168:function(e,t){},169:function(e,t){},194:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(18),i=n.n(o),r=(n(127),n(3)),s=n.n(r),l=n(7),d=n(22),u=(n(128),n(238)),j=n(239),b=n(52),h=n(229),p=n(110),f=n(240),v=n(241),x=n(244),O=n(242),g=n(25),k=n(24),m=new g.c("Stake11111111111111111111111111111111111111");function w(e,t){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(s.a.mark((function e(t,n){var a,c,o,i,r,l,d,u,j,b,h,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],c=0;case 2:if(!(c<8)){e.next=19;break}return o="stake:".concat(c),e.next=6,g.c.createWithSeed(n,o,m);case 6:return i=e.sent,console.log(i.toBase58()),e.next=10,t.getAccountInfo(i);case 10:return r=e.sent,e.next=13,t.getParsedAccountInfo(i);case 13:l=e.sent,(null===(d=l.value)||void 0===d?void 0:d.data)&&"parsed"in(null===d||void 0===d?void 0:d.data)&&(console.log(null===d||void 0===d?void 0:d.data.parsed),u=null===d||void 0===d?void 0:d.data.parsed,a.push({address:i,seed:o,balance:(null===r||void 0===r?void 0:r.lamports)?(null===r||void 0===r?void 0:r.lamports)/g.b:0,stakeAccount:u,inflationRewards:[]}));case 16:c++,e.next=2;break;case 19:return e.next=21,t.getEpochInfo("singleGossip");case 21:j=e.sent,b=Math.min.apply(Math,Object(k.a)(a.map((function(e){var t,n,a;return parseInt(null!==(t=null===(n=e.stakeAccount)||void 0===n||null===(a=n.info.stake)||void 0===a?void 0:a.delegation.activationEpoch)&&void 0!==t?t:"1000")})))),console.log("minEpoch: ".concat(b)),h=j.epoch-1;case 25:if(!(h>b)){e.next=35;break}return e.next=28,t.getInflationReward(a.map((function(e){return e.address})),h,"singleGossip");case 28:p=e.sent,console.log(h),console.log(p),p.forEach((function(e,t){e&&a[t].inflationRewards.push(e)}));case 32:h--,e.next=25;break;case 35:return e.abrupt("return",a);case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=n(245),A=n(226),E=n(228),I=n(232),R=n(233),B=n(196),C=n(234),F=n(235),L=n(236),M=n(230),P=n(231),W=n(237),T=n(11);function D(e){var t,n,c=e.stakeAccountMeta,o=Object(a.useState)(!1),i=Object(d.a)(o,2),r=i[0],s=i[1];return Object(T.jsx)(S.a,{m:.5,children:Object(T.jsxs)(A.a,{variant:"outlined",children:[Object(T.jsxs)(E.a,{children:[Object(T.jsx)(b.a,{component:"h1",gutterBottom:!0,children:"".concat(c.seed)}),Object(T.jsx)(b.a,{variant:"h6",component:"h2",children:"Balance: ".concat(c.balance," SOL")}),Object(T.jsx)(b.a,{color:"textSecondary",children:c.stakeAccount?"Type: ".concat(c.stakeAccount.type,", activation epoch: ").concat(null===(t=c.stakeAccount.info.stake)||void 0===t?void 0:t.delegation.activationEpoch,", voter: ").concat(null===(n=c.stakeAccount.info.stake)||void 0===n?void 0:n.delegation.voter):"No data"}),Object(T.jsxs)(h.a,{onClick:function(){return s(!r)},children:["Rewards",r?Object(T.jsx)(M.a,{}):Object(T.jsx)(P.a,{})]}),Object(T.jsx)(I.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(T.jsx)(R.a,{component:"div",disablePadding:!0,children:c.inflationRewards.map((function(e){return Object(T.jsx)(B.a,{style:{paddingLeft:4},children:Object(T.jsx)(C.a,{primary:"Epoch: ".concat(e.epoch,", reward: ").concat(e.amount/g.b," SOL")})})}))})})]}),Object(T.jsx)(F.a,{children:Object(T.jsx)(L.a,{href:"https://explorer.solana.com/address/".concat(c.address.toBase58()),children:Object(T.jsx)(W.a,{})})})]})})}var G=[{address:new g.c(0),seed:"stake:0",balance:123.23,inflationRewards:[]},{address:new g.c(0),seed:"stake:1",balance:221,inflationRewards:[]},{address:new g.c(0),seed:"stake:2",balance:1,inflationRewards:[]}],z=new g.a(Object(g.d)("mainnet-beta"));var J=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),i=Object(d.a)(o,2),r=i[0],k=i[1],m=Object(a.useState)(null),y=Object(d.a)(m,2),S=y[0],A=y[1],E=Object(a.useState)(G),I=Object(d.a)(E,2),R=I[0],B=I[1];function C(){return(C=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=B,e.next=3,w(z,t);case 3:e.t1=e.sent,(0,e.t0)(e.t1),k(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){B([]),null!==n&&(k(!0),function(e){C.apply(this,arguments)}(n))}),[n]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(u.a,{position:"relative",children:Object(T.jsxs)(j.a,{children:[Object(T.jsx)(b.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Solstake"}),Object(T.jsx)("div",{style:{flexGrow:1}}),Object(T.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[Object(T.jsx)(h.a,{variant:"contained",disabled:!0,children:"Demo"}),Object(T.jsx)(h.a,{variant:"contained",children:"Connect wallet"})]})]})}),Object(T.jsx)(p.a,{anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:!1,children:Object(T.jsx)(f.a,{children:"Demo"})}),Object(T.jsx)("main",{children:Object(T.jsxs)(v.a,{maxWidth:"md",children:[Object(T.jsx)(x.a,{id:"standard-basic",fullWidth:!0,label:"Wallet public key",value:null===n||void 0===n?void 0:n.toBase58(),error:null!==S,helperText:S,onChange:function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=new g.c(t.target.value),A(null),c(n)}catch(a){console.log("".concat(t.target.value," is not a valid PublicKey input")),A("Invalid public key"),c(null)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(T.jsx)(v.a,{children:r?Object(T.jsx)(O.a,{height:200}):R.map((function(e){return Object(T.jsx)(D,{stakeAccountMeta:e})}))})]})})]})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,247)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),o(e),i(e)}))};i.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(J,{})}),document.getElementById("root")),K()}},[[194,1,2]]]);
//# sourceMappingURL=main.0164698b.chunk.js.map