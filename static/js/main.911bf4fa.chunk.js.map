{"version":3,"sources":["wallet-adapters/ledger/core.ts","validators/pubkey.ts","validators/bignum.ts","validators/accounts/accounts.ts","utils/ids.ts","utils/stakeAccounts.ts","utils/utils.ts","contexts/connection.tsx","utils/block.ts","contexts/epoch.tsx","utils/notifications.tsx","wallet-adapters/ledger/index.tsx","wallet-adapters/phantom/index.tsx","wallet-adapters/walletProviders.ts","contexts/wallet.tsx","components/ValidatorScoreTray.tsx","utils/validatorsApp.ts","contexts/validators.tsx","components/DelegateDialog.tsx","components/StakeAccount.tsx","assets/logo-gradient.svg","components/Connector.tsx","components/AppSettings.tsx","utils/epoch.ts","contexts/accounts.tsx","components/CreateStakeAccount.tsx","components/SummaryCard.tsx","components/HelpDialog.tsx","views/DApp.tsx","assets/logo-white.svg","assets/discord-brands.svg","utils/email.ts","views/Landing.tsx","assets/theme.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["MAX_PAYLOAD","LEDGER_CLA","ledgerSend","transport","instruction","p1","payload","a","p2","payloadOffset","length","chunk","slice","console","log","toString","send","Error","reply","BIP32_HARDENED_BIT","harden","n","getSolanaDerivationPath","account","change","undefined","derivationPath","Buffer","alloc","offset","writeUInt8","writeUInt32BE","signTransaction","transaction","messageBytes","serializeMessage","signBytes","bytes","numPaths","concat","getPublicKey","publicKeyBytes","PublicKey","PublicKeyFromString","coerce","instance","string","value","BigNumFromString","BN","StakeAccountType","enums","StakeMeta","type","rentExemptReserve","authorized","staker","withdrawer","lockup","unixTimestamp","number","epoch","custodian","StakeAccountInfo","meta","stake","nullable","delegation","voter","activationEpoch","deactivationEpoch","warmupCooldownRate","creditsObserved","StakeAccount","info","STAKE_PROGRAM_ID","promiseAllInBatches","tasks","batchSize","results","currentTasks","splice","Promise","all","map","task","accounInfoToStakeAccount","data","create","parsed","sortStakeAccountMetas","stakeAccountMetas","sort","b","seed","connection","walletAddress","newStakeAccountMetas","Array","from","keys","i","createWithSeed","then","pubkey","solflareStakeAccountSeedPubkeys","naturalStakeAccountSeedPubkeys","getParsedProgramAccounts","StakeProgram","programId","filters","dataSize","memcmp","toBase58","forEach","stakeAccount","matchingSolflareSeed","find","element","equals","matchingNaturalSeed","balanceLamports","lamports","push","address","inflationRewards","getEpochInfo","epochInfo","delegatedActivationEpochs","filter","toNumber","minEpoch","Math","min","startEpoch","getInflationReward","accountMeta","inflationReward","index","formatPriceNumber","Intl","NumberFormat","style","minimumFractionDigits","maximumFractionDigits","useLocalStorageState","key","defaultState","useState","storedState","localStorage","getItem","JSON","parse","state","setState","setLocalStorageState","useCallback","newState","removeItem","setItem","stringify","shortenAddress","chars","currency","formatPct","humanizeDuration","HumanizeDuration","HumanizeDurationLanguage","sleep","ms","resolve","setTimeout","setOptions","language","spacer","delimiter","round","units","largest","addLanguage","y","mo","w","d","h","m","s","decimal","ENDPOINTS","name","url","clusterApiUrl","DEFAULT","ConnectionContext","React","createContext","cluster","setUrl","Connection","sendConnection","ConnectionProvider","children","useMemo","endpoint","end","Provider","useConnection","useContext","useSendConnection","useConnectionConfig","context","sendTransaction","wallet","instructions","signers","publicKey","Transaction","feePayer","add","getRecentBlockhash","recentBlockhash","blockhash","partialSign","rawTransaction","serialize","options","skipPreflight","commitment","sendRawTransaction","txid","useSolanaExplorerUrlSuffix","getFirstBlockTime","slot","getBlockTime","blockTime","EpochContext","epochSchedule","epochStartTime","EpochProvider","setEpochInfo","setEpochSchedule","setEpochStartTime","useEffect","getEpochSchedule","getFirstSlotInEpoch","confirmTransaction","signature","startTime","Date","result","err","getTime","notify","message","description","useMonitorTransaction","useSnackbar","enqueueSnackbar","closeSnackbar","sending","setSending","signaturePromise","onSuccess","onError","id","variant","persist","action","ViewTransactionOnExplorerButton","autoHideDuration","warn","monitorTransaction","urlSuffix","Button","color","component","target","rel","href","LedgerWalletAdapter","_connecting","_publicKey","_transport","this","addSignature","TransportWebUSB","emit","disconnect","close","EventEmitter","PhantomWalletAdapter","_handleConnect","args","_handleDisconnect","connect","bind","window","solana","isPhantom","_provider","isConnected","autoApprove","transactions","signAllTransactions","listeners","on","ASSETS_URL","WALLET_PROVIDERS","icon","adapter","WalletContext","connected","select","provider","WalletProvider","autoConnect","setAutoConnect","providerUrl","setProviderUrl","Wallet","setConnected","walletPublicKey","substring","isModalVisible","setIsModalVisible","Dialog","title","open","onClose","fullWidth","DialogContent","Box","size","onClick","display","alignItems","width","textAlign","alt","height","src","marginRight","DialogActions","useWallet","ScoreIcon","props","header","score","Tooltip","faCircle","className","faMinusCircle","ValidatorScoreTray","validatorScore","Typography","root_distance_score","vote_distance_score","skipped_slot_score","published_information_score","software_version_score","security_report_score","stake_concentration_score","data_center_concentration_score","total_score","BASE_URL","ValidatorScore","software_version","ValidatorList","array","fetch","headers","process","response","json","validatorList","CONFIG_PROGRAM_ID","getProgramAccounts","validatorInfoAccounts","flatMap","validatorInfoAccount","validatorInfo","ValidatorInfo","fromConfigData","ValidatorsContext","voteAccountInfos","validatorInfos","validatorScores","totalActivatedStake","ValidatorsProvider","setVoteAccountInfos","setValidatorInfos","setValidatorScores","setTotalActivatedStake","getVoteAccounts","voteAccountStatus","activatedStake","current","delinquent","reduce","sum","getValidatorInfos","getValidatorScores","basicCellRenderer","cellData","basicHeaderRenderer","label","scoreCellRenderer","BATCH_SIZE","batchMatcher","onValidatorMetas","validatorMetas","remainingVoteAccountInfos","remainingValidatorInfos","voteAccountIndex","findIndex","nodePubkey","voteAccountInfo","validatorInfoIndex","DelegateDialog","stakePubkey","handleClose","maxComission","setMaxComission","setValidatorMetas","filteredValidatorMetas","setFilteredValidatorMetas","selectedIndex","setSelectedIndex","searchCriteria","setSearchCriteria","useAsync","votePubkeyMatches","votePubkey","includes","nameMatches","toLowerCase","commission","maxWidth","DialogTitle","Slider","onChange","event","newValue","aria-labelledby","step","valueLabelDisplay","TextField","placeholder","e","headerHeight","rowHeight","rowCount","rowGetter","onRowClick","rowRenderer","defaultRowRenderer","dataKey","cellDataGetter","rowData","keybaseUsername","cellRenderer","headerRenderer","Link","format","LAMPORTS_PER_SOL","website","verticalAlign","disabled","delegate","authorizedPubkey","CircularProgress","MAX_EPOCH","pow","sub","StakeAccountCard","stakeAccountMeta","rewardsOpen","setRewardsOpen","setOpen","stakeActivationData","setStakeActivationData","withdrawOpen","setWithdrawOpen","activatedBlockTime","setActivatedBlockTime","formatEpoch","eq","_rpcEndpoint","getStakeActivation","catch","error","totalRewards","amount","firstActivatedSlot","APY","initialStake","timePeriod","Card","CardContent","gutterBottom","ExpandLess","ExpandMore","Collapse","in","timeout","unmountOnExit","List","disablePadding","ListItem","paddingLeft","ListItemText","primary","CardActions","OpenInNew","hidden","deactivate","WithdrawDialog","userPublicKey","stakeAccountLamports","setAmount","max","InputProps","endAdornment","InputAdornment","position","inputProps","withdraw","toPubkey","Number","_extends","Object","assign","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","fill","_ref5","_ref6","_ref8","_ref9","_ref10","_ref11","_ref16","_ref17","_ref18","_ref19","x1","y1","x2","y2","gradientUnits","stopColor","SvgLogoGradient","_ref","svgRef","titleId","viewBox","xmlns","ref","ForwardRef","CurrentUserBadge","Connector","AppSettings","Select","MenuItem","getDashboardEpochInfo","slotIndex","slotsInEpoch","epochProgress","timePerSlotSamples","samplePeriodSecs","numSlots","sample","samplesInHour","avgSlotTime_1h","cur","hourlySlotTime","epochTimeRemaining","AccountsContext","systemProgramAccountInfo","AccountsProvider","setSystemProgramAccountInfo","getAccountInfo","accountInfo","subscriptionId","onAccountChange","removeAccountChangeListener","CreateStakeAccountDialog","getMinimumBalanceForRentExemption","space","createAccountWithSeed","fromPubkey","basePubkey","Authorized","SOLUSDPriceAccountKey","priceAccountInfo","parsePriceData","price","confidence","seedIndex","newStakeAccountPubkey","SummaryCard","publicKeyString","setPublicKeyString","setPublicKey","errorInfo","setErrorInfo","SOLPriceUSD","setSOLPriceUSD","dashboardEpochInfo","setDashboardEpochInfo","setSeed","update","setInterval","clearInterval","getSOLPriceUSD","totalStakedSOL","totalLamports","findFirstAvailableSeed","humanize","LinearProgress","borderRadius","InputLabelProps","shrink","helperText","Divider","Grid","container","direction","justify","item","xs","HelpDialog","StakeAccounts","DApp","loading","setLoading","stakeAccounts","setStakeAccounts","newPublicKey","findStakeAccountMetas","newStakeAccounts","onProgramAccountChange","accountId","extistingStakeAccountMeta","updatedStakeAccounts","getParsedAccountInfo","parsedAccountInfo","owner","newStakeAccount","accountInfoToStakeAccount","removeProgramAccountChangeListener","subscriptionIds","AppBar","Toolbar","to","flexGrow","gap","padding","IconButton","Info","Container","justifyContent","SvgLogoWhite","SvgDiscordBrands","focusable","role","submitEmail","email","method","body","ok","styles","largeIcon","fontSize","SendButton","callback","Send","useStyles","makeStyles","theme","createStyles","root","Landing","setEmail","isEmailValid","setIsEmailValid","content","severity","setMessage","openVideo","setOpenVideo","submitAndFeedback","classes","minHeight","overflow","visibility","textDecoration","onKeyDown","isValid","test","String","validateEmail","GitHub","YouTube","SvgIcon","Twitter","frameBorder","allow","allowFullScreen","Snackbar","Alert","createMuiTheme","palette","main","secondary","typography","fontFamily","App","maxSnack","ThemeProvider","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.911bf4fa.chunk.js","sourcesContent":["import type Transport from \"@ledgerhq/hw-transport\";\nimport type { Transaction } from \"@solana/web3.js\";\n\nimport { PublicKey } from \"@solana/web3.js\";\n\nconst INS_GET_PUBKEY = 0x05;\nconst INS_SIGN_MESSAGE = 0x06;\n\nconst P1_NON_CONFIRM = 0x00;\nconst P1_CONFIRM = 0x01;\n\nconst P2_EXTEND = 0x01;\nconst P2_MORE = 0x02;\n\nconst MAX_PAYLOAD = 255;\n\nconst LEDGER_CLA = 0xe0;\n\n/*\n * Helper for chunked send of large payloads\n */\nasync function ledgerSend(\n  transport: Transport,\n  instruction: number,\n  p1: number,\n  payload: Buffer\n) {\n  let p2 = 0;\n  let payloadOffset = 0;\n\n  if (payload.length > MAX_PAYLOAD) {\n    while (payload.length - payloadOffset > MAX_PAYLOAD) {\n      const chunk = payload.slice(payloadOffset, payloadOffset + MAX_PAYLOAD);\n      payloadOffset += MAX_PAYLOAD;\n      console.log(\n        \"send\",\n        (p2 | P2_MORE).toString(16),\n        chunk.length.toString(16),\n        chunk\n      );\n      const reply = await transport.send(\n        LEDGER_CLA,\n        instruction,\n        p1,\n        p2 | P2_MORE,\n        chunk\n      );\n      if (reply.length !== 2) {\n        throw new Error(\"Received unexpected reply payload\");\n      }\n      p2 |= P2_EXTEND;\n    }\n  }\n\n  const chunk = payload.slice(payloadOffset);\n  console.log(\"send\", p2.toString(16), chunk.length.toString(16), chunk);\n  const reply = await transport.send(LEDGER_CLA, instruction, p1, p2, chunk);\n\n  return reply.slice(0, reply.length - 2);\n}\n\nconst BIP32_HARDENED_BIT = (1 << 31) >>> 0;\nfunction harden(n: number = 0) {\n  return (n | BIP32_HARDENED_BIT) >>> 0;\n}\n\nexport function getSolanaDerivationPath(account?: number, change?: number) {\n  var length;\n  if (account !== undefined) {\n    if (change !== undefined) {\n      length = 4;\n    } else {\n      length = 3;\n    }\n  } else {\n    length = 2;\n  }\n\n  var derivationPath = Buffer.alloc(1 + length * 4);\n  // eslint-disable-next-line\n  var offset = 0;\n  offset = derivationPath.writeUInt8(length, offset);\n  offset = derivationPath.writeUInt32BE(harden(44), offset); // Using BIP44\n  offset = derivationPath.writeUInt32BE(harden(501), offset); // Solana's BIP44 path\n\n  if (length > 2) {\n    offset = derivationPath.writeUInt32BE(harden(account), offset);\n    if (length === 4) {\n      // @FIXME: https://github.com/project-serum/spl-token-wallet/issues/59\n      derivationPath.writeUInt32BE(harden(change), offset);\n    }\n  }\n\n  return derivationPath;\n}\n\nexport async function signTransaction(\n  transport: Transport,\n  transaction: Transaction,\n  derivationPath: Buffer = getSolanaDerivationPath()\n) {\n  const messageBytes = transaction.serializeMessage();\n  return signBytes(transport, messageBytes, derivationPath);\n}\n\nexport async function signBytes(\n  transport: Transport,\n  bytes: Buffer,\n  derivationPath: Buffer = getSolanaDerivationPath()\n) {\n  const numPaths = Buffer.alloc(1);\n  numPaths.writeUInt8(1, 0);\n\n  const payload = Buffer.concat([numPaths, derivationPath, bytes]);\n\n  // @FIXME: must enable blind signing in Solana Ledger App per https://github.com/project-serum/spl-token-wallet/issues/71\n  // See also https://github.com/project-serum/spl-token-wallet/pull/23#issuecomment-712317053\n  return ledgerSend(transport, INS_SIGN_MESSAGE, P1_CONFIRM, payload);\n}\n\nexport async function getPublicKey(\n  transport: Transport,\n  derivationPath: Buffer = getSolanaDerivationPath()\n) {\n  const publicKeyBytes = await ledgerSend(\n    transport,\n    INS_GET_PUBKEY,\n    P1_NON_CONFIRM,\n    derivationPath\n  );\n\n  return new PublicKey(publicKeyBytes);\n}\n","import { coerce, instance, string } from \"superstruct\";\nimport { PublicKey } from \"@solana/web3.js\";\n\nexport const PublicKeyFromString = coerce(\n  instance(PublicKey),\n  string(),\n  (value) => new PublicKey(value)\n);\n","import { coerce, instance, string } from \"superstruct\";\nimport BN from \"bn.js\";\n\nexport const BigNumFromString = coerce(instance(BN), string(), (value) => {\n  if (typeof value === \"string\") return new BN(value, 10);\n  throw new Error(\"invalid big num\");\n});\n","/* eslint-disable @typescript-eslint/no-redeclare */\n\nimport { Infer, number, nullable, enums, type } from \"superstruct\";\nimport { PublicKeyFromString } from '../pubkey';\nimport { BigNumFromString } from '../bignum';\n\nexport type StakeAccountType = Infer<typeof StakeAccountType>;\nexport const StakeAccountType = enums([\n  \"uninitialized\",\n  \"initialized\",\n  \"delegated\",\n  \"rewardsPool\",\n]);\n\nexport type StakeMeta = Infer<typeof StakeMeta>;\nexport const StakeMeta = type({\n  rentExemptReserve: BigNumFromString,\n  authorized: type({\n    staker: PublicKeyFromString,\n    withdrawer: PublicKeyFromString,\n  }),\n  lockup: type({\n    unixTimestamp: number(),\n    epoch: number(),\n    custodian: PublicKeyFromString,\n  }),\n});\n\nexport type StakeAccountInfo = Infer<typeof StakeAccountInfo>;\nexport const StakeAccountInfo = type({\n  meta: StakeMeta,\n  stake: nullable(\n    type({\n      delegation: type({\n        voter: PublicKeyFromString,\n        stake: BigNumFromString,\n        activationEpoch: BigNumFromString,\n        deactivationEpoch: BigNumFromString,\n        warmupCooldownRate: number(),\n      }),\n      creditsObserved: number(),\n    })\n  ),\n});\n\nexport type StakeAccount = Infer<typeof StakeAccount>;\nexport const StakeAccount = type({\n  type: StakeAccountType,\n  info: StakeAccountInfo,\n});\n","import { PublicKey } from \"@solana/web3.js\";\n\nexport const STAKE_PROGRAM_ID = new PublicKey('Stake11111111111111111111111111111111111111');","import { AccountInfo, Connection, InflationReward, ParsedAccountData, PublicKey, StakeProgram } from \"@solana/web3.js\";\nimport { create } from \"superstruct\";\nimport { StakeAccount } from \"../validators/accounts/accounts\";\nimport { STAKE_PROGRAM_ID } from \"./ids\";\n\nexport interface StakeAccountMeta {\n  address: PublicKey;\n  seed: string;\n  lamports: number;\n  stakeAccount: StakeAccount;\n  inflationRewards: InflationReward[]\n}\n\nasync function promiseAllInBatches<T>(tasks: (() => Promise<T>)[], batchSize: number) {\n  let results: T[] = [];\n  while(tasks.length > 0) {\n    const currentTasks = tasks.splice(0, batchSize);\n    results = results.concat(await Promise.all(currentTasks.map(task => task())));\n    console.log('batch finished');\n  }\n  return results;\n}\n\nexport function accounInfoToStakeAccount(account: AccountInfo<Buffer | ParsedAccountData>): StakeAccount | undefined {\n  return ('parsed' in account?.data && create(account.data.parsed, StakeAccount)) || undefined;\n}\n\nexport function sortStakeAccountMetas(stakeAccountMetas: StakeAccountMeta[]) {\n  stakeAccountMetas.sort((a, b) => {\n    if (a.seed < b.seed) {\n      return -1\n    }\n    else if(a.seed > b.seed) {\n      return 1\n    }\n    return 0;\n  });\n}\n\nexport async function findStakeAccountMetas(connection: Connection, walletAddress: PublicKey): Promise<StakeAccountMeta[]> {\n  let newStakeAccountMetas: StakeAccountMeta[] = [];\n\n  // Create potential solflare seed PDAs\n  const solflareStakeAccountSeedPubkeys = await Promise.all(Array.from(Array(20).keys()).map(async i => {\n    const seed = `stake:${i}`;\n    return PublicKey.createWithSeed(walletAddress, seed, STAKE_PROGRAM_ID).then(pubkey => ({seed, pubkey}));\n  }));\n\n  const naturalStakeAccountSeedPubkeys = await Promise.all(Array.from(Array(20).keys()).map(async i => {\n    const seed = `${i}`;\n    return PublicKey.createWithSeed(walletAddress, seed, STAKE_PROGRAM_ID).then(pubkey => ({seed, pubkey}));\n  }));\n\n  const parsedStakeAccounts = await connection.getParsedProgramAccounts(\n    StakeProgram.programId,\n    {\n      filters: [\n        {dataSize: 200}, // TODO: Trent said we might want to exclude the dataSize filter\n        {\n          memcmp: {\n            offset: 12,\n            bytes: walletAddress.toBase58()\n          }\n        }\n      ]\n    });\n  \n  parsedStakeAccounts.forEach(({pubkey, account}) => {\n    console.log('parsed' in account?.data ? account?.data.parsed : \"Does not contain parsed data\");\n    const stakeAccount = accounInfoToStakeAccount(account);\n    if (!stakeAccount) {\n      return;\n    }\n\n    // We identify accounts with the solflare seed, or natural seed only for now\n    const matchingSolflareSeed = solflareStakeAccountSeedPubkeys.find(element => element.pubkey.equals(pubkey))?.seed;\n    const matchingNaturalSeed = naturalStakeAccountSeedPubkeys.find(element => element.pubkey.equals(pubkey))?.seed;\n    const seed = matchingSolflareSeed || matchingNaturalSeed || `${pubkey.toBase58().slice(12)}...`;\n\n    const balanceLamports = account.lamports;\n    newStakeAccountMetas.push({\n      address: pubkey,\n      seed,\n      lamports: balanceLamports,\n      stakeAccount,\n      inflationRewards: []\n    });\n  });\n  \n  const epochInfo = await connection.getEpochInfo();\n\n  const delegatedActivationEpochs = newStakeAccountMetas\n    .filter(meta => meta.stakeAccount.info.stake?.delegation.activationEpoch)\n    .map(meta => meta.stakeAccount.info.stake?.delegation.activationEpoch?.toNumber() ?? 1000) // null coallescing not possible here\n\n  if(delegatedActivationEpochs.length !== 0) {\n    const minEpoch = Math.min(\n      ...delegatedActivationEpochs\n    );\n\n    console.log(`minEpoch: ${minEpoch}`);\n\n    let startEpoch = epochInfo.epoch - 1; // No rewards yet for the current epoch, so query from previous epoch\n    const tasks: (() => Promise<(InflationReward | null)[]>)[] = [];\n    for(let epoch = startEpoch;epoch > minEpoch;epoch--) {\n      tasks.push(() => connection.getInflationReward(\n        newStakeAccountMetas.map(accountMeta => accountMeta.address),\n        epoch,\n        'finalized'\n      ));\n    }\n\n    sortStakeAccountMetas(newStakeAccountMetas);\n\n    const inflationRewardsResults = await promiseAllInBatches(tasks, 4);\n    inflationRewardsResults.forEach(inflationRewards => inflationRewards.forEach((inflationReward, index) => {\n      if (inflationReward) {\n        newStakeAccountMetas[index].inflationRewards.push(inflationReward)\n      }\n    }));\n  }\n\n  return newStakeAccountMetas;\n}","import { useCallback, useState } from \"react\";\nimport {\n  HumanizeDuration,\n  HumanizeDurationLanguage,\n} from \"humanize-duration-ts\";\n\nexport const formatPriceNumber = new Intl.NumberFormat(\"en-US\", {\n  style: \"decimal\",\n  minimumFractionDigits: 2,\n  maximumFractionDigits: 2,\n});\n\nexport function useLocalStorageState(key: string, defaultState?: string) {\n  const [state, setState] = useState(() => {\n    // NOTE: Not sure if this is ok\n    const storedState = localStorage.getItem(key);\n    if (storedState) {\n      return JSON.parse(storedState);\n    }\n    return defaultState;\n  });\n\n  const setLocalStorageState = useCallback(\n    (newState) => {\n      const changed = state !== newState;\n      if (!changed) {\n        return;\n      }\n      setState(newState);\n      if (newState === null) {\n        localStorage.removeItem(key);\n      } else {\n        localStorage.setItem(key, JSON.stringify(newState));\n      }\n    },\n    [state, key]\n  );\n\n  return [state, setLocalStorageState];\n}\n\n// shorten the checksummed version of the input address to have 4 characters at start and end\nexport function shortenAddress(address: string, chars = 4): string {\n  return `${address.slice(0, chars)}...${address.slice(-chars)}`;\n}\n\nexport function chunks<T>(array: T[], size: number): T[][] {\n  return Array.apply<number, T[], T[][]>(\n    0,\n    new Array(Math.ceil(array.length / size))\n  ).map((_, index) => array.slice(index * size, (index + 1) * size));\n}\n\nvar SI_SYMBOL = [\"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\"];\n\nconst abbreviateNumber = (number: number, precision: number) => {\n  let tier = (Math.log10(number) / 3) | 0;\n  let scaled = number;\n  let suffix = SI_SYMBOL[tier];\n  if (tier !== 0) {\n    let scale = Math.pow(10, tier * 3);\n    scaled = number / scale;\n  }\n\n  return scaled.toFixed(precision) + suffix;\n};\n\nexport const formatAmount = (\n  val: number,\n  precision: number = 6,\n  abbr: boolean = true\n) => (abbr ? abbreviateNumber(val, precision) : val.toFixed(precision));\n\nexport const formatUSD = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n});\n\nexport const numberFormatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"decimal\",\n  minimumFractionDigits: 2,\n  maximumFractionDigits: 2,\n});\n\nexport const isSmallNumber = (val: number) => {\n  return val < 0.001 && val > 0;\n};\n\nexport const formatNumber = {\n  format: (val?: number, useSmall?: boolean) => {\n    if (!val) {\n      return \"--\";\n    }\n    if (useSmall && isSmallNumber(val)) {\n      return 0.001;\n    }\n\n    return numberFormatter.format(val);\n  },\n};\n\nexport const feeFormatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"decimal\",\n  minimumFractionDigits: 2,\n  maximumFractionDigits: 9,\n});\n\nexport const formatPct = new Intl.NumberFormat(\"en-US\", {\n  style: \"percent\",\n  minimumFractionDigits: 2,\n  maximumFractionDigits: 2,\n});\n\nexport const humanizeDuration = new HumanizeDuration(new HumanizeDurationLanguage());\nhumanizeDuration.setOptions({\n  language: \"short\",\n  spacer: \"\",\n  delimiter: \" \",\n  round: true,\n  units: [\"d\", \"h\", \"m\", \"s\"],\n  largest: 3,\n});\nhumanizeDuration.addLanguage(\"short\", {\n  y: () => \"y\",\n  mo: () => \"mo\",\n  w: () => \"w\",\n  d: () => \"d\",\n  h: () => \"h\",\n  m: () => \"m\",\n  s: () => \"s\",\n  ms: () => \"ms\",\n  decimal: \".\",\n});\n\nexport function sleep(ms: number) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}","import { useLocalStorageState } from \"./../utils/utils\";\nimport {\n  Cluster,\n  clusterApiUrl,\n  Connection,\n  Signer,\n  Transaction,\n  TransactionInstruction,\n} from \"@solana/web3.js\";\nimport React, { useContext, useMemo } from \"react\";\nimport { WalletAdapter } from \"../wallet-adapters/walletAdapter\";\n\nexport type ExtendedCluster = Cluster | \"localnet\";\n\ninterface Endpoint {\n    name: ExtendedCluster,\n    url: string,\n};\n\nexport const ENDPOINTS: Endpoint[] = [\n  {\n    name: \"mainnet-beta\",\n    url: 'https://solstake.rpcpool.com',\n  },\n  {\n    name: \"testnet\",\n    url: 'https://solstake.testnet.rpcpool.com',\n  },\n  {\n    name: \"devnet\",\n    url: clusterApiUrl(\"devnet\"),\n  },\n  {\n    name: \"localnet\",\n    url: \"http://127.0.0.1:8899\",\n  },\n];\n\nconst DEFAULT = ENDPOINTS[0].url;\n\ninterface ConnectionConfig {\n  cluster: ExtendedCluster;\n  url: string;\n  setUrl: (val: string) => void;\n  connection: Connection;\n  sendConnection: Connection;\n}\n\nconst ConnectionContext = React.createContext<ConnectionConfig>({\n  cluster: ENDPOINTS[0].name,\n  url: DEFAULT,\n  setUrl: () => {},\n  connection: new Connection(DEFAULT, \"confirmed\"),\n  sendConnection: new Connection(DEFAULT, \"confirmed\"),\n});\n\nexport function ConnectionProvider({ children = undefined as any }) {\n  const [url, setUrl] = useLocalStorageState(\n    \"connectionUrls\",\n    ENDPOINTS[0].url\n  );\n\n  const connection = useMemo(() => new Connection(url, \"confirmed\"), [\n    url,\n  ]);\n  const sendConnection = useMemo(() => new Connection(url, \"confirmed\"), [\n    url,\n  ]);\n\n  const endpoint =\n    ENDPOINTS.find((end) => end.url === url) || ENDPOINTS[0];\n\n  return (\n    <ConnectionContext.Provider\n      value={{\n        cluster: endpoint.name,\n        url,\n        setUrl,\n        connection,\n        sendConnection,\n      }}\n    >\n      {children}\n    </ConnectionContext.Provider>\n  );\n}\n\nexport function useConnection() {\n  return useContext(ConnectionContext).connection;\n}\n\nexport function useSendConnection() {\n  return useContext(ConnectionContext).sendConnection;\n}\n\nexport function useConnectionConfig() {\n  const context = useContext(ConnectionContext);\n  return {\n    cluster: context.cluster,\n    url: context.url,\n    setUrl: context.setUrl,\n  };\n}\n\nexport async function sendTransaction(\n  connection: Connection,\n  wallet: WalletAdapter,\n  instructions: TransactionInstruction[],\n  signers: Signer[],\n) {\n  if (!wallet?.publicKey) {\n    throw new Error(\"Wallet is not connected\");\n  }\n\n  let transaction = new Transaction({feePayer: wallet.publicKey});\n  transaction.add(...instructions);\n  transaction.recentBlockhash = (\n    await connection.getRecentBlockhash(\"finalized\")\n  ).blockhash;\n  if(signers.length > 0) {\n    transaction.partialSign(...signers);\n  }\n  transaction = await wallet.signTransaction(transaction);\n  const rawTransaction = transaction.serialize();\n  let options = {\n    skipPreflight: true,\n    commitment: \"processed\",\n  };\n\n  const txid = await connection.sendRawTransaction(rawTransaction, options);\n  return txid;\n};\n\nexport function useSolanaExplorerUrlSuffix() {\n  const context = useContext(ConnectionContext);\n  if (!context) {\n    throw new Error('Missing connection context');\n  }\n  const endpoint = context.url;\n  if (endpoint === clusterApiUrl('devnet')) {\n    return '?cluster=devnet';\n  } else if (endpoint === clusterApiUrl('testnet')) {\n    return '?cluster=testnet';\n  }\n  return '';\n}\n","import { Connection } from \"@solana/web3.js\";\nimport { sleep } from \"./utils\";\n\n// Returns if 10 consecutive missing slots to avoid deadlock\nexport async function getFirstBlockTime(connection: Connection, slot: number) {\n  for(let i = 0;i<10;i++) {\n    try {\n      const blockTime = await connection.getBlockTime(slot + i);\n      if (blockTime) {\n        return blockTime;\n      }\n    }\n    catch { } // TODO: More selective rather than catch all\n    await sleep(250);\n  }\n  console.log(`Could not find a blockTime slot: ${slot}`);\n  return;\n}","import { EpochInfo, EpochSchedule } from \"@solana/web3.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { getFirstBlockTime } from \"../utils/block\";\nimport { useConnection } from \"./connection\";\n\ninterface EpochConfig {\n  epochInfo: EpochInfo | undefined;\n  epochSchedule: EpochSchedule | undefined;\n  epochStartTime: number | undefined;\n};\n\nexport const EpochContext = React.createContext<EpochConfig>({\n  epochInfo: undefined,\n  epochSchedule: undefined,\n  epochStartTime: undefined\n});\n\nexport function EpochProvider({ children = undefined as any }) {\n  const connection = useConnection();\n  const [epochInfo, setEpochInfo] = useState<EpochInfo>();\n  const [epochSchedule, setEpochSchedule] = useState<EpochSchedule>();\n  const [epochStartTime, setEpochStartTime] = useState<number>();\n\n  useEffect(() => {\n    setEpochInfo(undefined);\n    connection.getEpochInfo()\n      .then(setEpochInfo);\n  }, [connection]);\n\n  useEffect(() => {\n    setEpochSchedule(undefined);\n    connection.getEpochSchedule()\n      .then(setEpochSchedule);\n  }, [connection]);\n\n  useEffect(() => {\n    setEpochStartTime(undefined);\n    if(!epochInfo?.epoch || !epochSchedule) {\n      return;\n    }\n\n    const slot = epochSchedule.getFirstSlotInEpoch(epochInfo.epoch);\n    getFirstBlockTime(connection, slot)\n      .then(setEpochStartTime);\n  }, [connection, epochInfo?.epoch, epochSchedule]);\n\n  return (\n    <EpochContext.Provider\n      value={{\n        epochInfo,\n        epochSchedule,\n        epochStartTime\n      }}\n    >\n      {children}\n    </EpochContext.Provider>\n  );\n}","import { Button } from '@material-ui/core';\nimport { Connection } from '@solana/web3.js';\nimport { useSnackbar } from 'notistack';\nimport React, { useState } from 'react';\nimport { useConnection, useSolanaExplorerUrlSuffix } from '../contexts/connection';\n\nasync function confirmTransaction(\n  connection: Connection,\n  signature: string,\n) {\n  let startTime = new Date();\n  let result = await connection.confirmTransaction(signature, 'confirmed');\n  if (result.value.err) {\n    throw new Error(\n      'Error confirming transaction: ' + JSON.stringify(result.value.err),\n    );\n  }\n  console.log(\n    'Transaction confirmed after %sms',\n    new Date().getTime() - startTime.getTime(),\n  );\n  return result.value;\n}\n\nexport function notify({message, description}: {message: string, description: string}) {\n  console.log(`${message}, ${description}`);\n} \n\nexport function useMonitorTransaction() {\n  const connection = useConnection();\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const [sending, setSending] = useState(false);\n\n  async function monitorTransaction(\n    signaturePromise: Promise<string>,\n    {onSuccess, onError}: { onSuccess: (signature: string) => void, onError: (signature: string) => void },\n  ): Promise<void> {\n    let id = enqueueSnackbar('Sending transaction...', {\n      variant: 'info',\n      persist: true,\n    });\n    setSending(true);\n    try {\n      let signature = await signaturePromise;\n      closeSnackbar(id);\n      id = enqueueSnackbar('Confirming transaction...', {\n        variant: 'info',\n        persist: true,\n        action: <ViewTransactionOnExplorerButton signature={signature} />,\n      });\n      await confirmTransaction(connection, signature);\n      closeSnackbar(id);\n      setSending(false);\n      enqueueSnackbar('Transaction confirmed', {\n        variant: 'success',\n        autoHideDuration: 15000,\n        action: <ViewTransactionOnExplorerButton signature={signature} />,\n      });\n      if (onSuccess) {\n        onSuccess(signature);\n      }\n    } catch (e) {\n      closeSnackbar(id);\n      setSending(false);\n      console.warn(e);\n      enqueueSnackbar(e.message, { variant: 'error' });\n      if (onError) {\n        onError(e);\n      }\n    }\n  }\n\n  return {monitorTransaction, sending};\n}\n\nfunction ViewTransactionOnExplorerButton({ signature }: {signature: string}) {\n  const urlSuffix = useSolanaExplorerUrlSuffix();\n  return (\n    <Button\n      color=\"inherit\"\n      component=\"a\"\n      target=\"_blank\"\n      rel=\"noopener\"\n      href={`https://explorer.solana.com/tx/${signature}` + urlSuffix}\n    >\n      View on Explorer\n    </Button>\n  );\n}\n\nexport function useCallAsync() {\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  return async function callAsync(\n    promise: Promise<string>,\n    {\n      progressMessage = 'Submitting...',\n      successMessage = 'Success',\n      onSuccess,\n      onError,\n    }: {\n      progressMessage: string,\n      successMessage: string,\n      onSuccess: (message: string) => void,\n      onError: (message: string) => void,\n    }\n  ) {\n    let id = enqueueSnackbar(progressMessage, {\n      variant: 'info',\n      persist: true,\n    });\n    try {\n      let result = await promise;\n      closeSnackbar(id);\n      if (successMessage) {\n        enqueueSnackbar(successMessage, { variant: 'success' });\n      }\n      if (onSuccess) {\n        onSuccess(result);\n      }\n    } catch (e) {\n      console.warn(e);\n      closeSnackbar(id);\n      enqueueSnackbar(e.message, { variant: 'error' });\n      if (onError) {\n        onError(e);\n      }\n    }\n  };\n  }","import type Transport from \"@ledgerhq/hw-transport\";\nimport type { Transaction } from \"@solana/web3.js\";\n\nimport EventEmitter from \"eventemitter3\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport TransportWebUSB from \"@ledgerhq/hw-transport-webusb\";\nimport { WalletAdapter } from \"../walletAdapter\";\nimport { notify } from \"../../utils/notifications\";\nimport { getPublicKey, signTransaction } from \"./core\";\n\nexport class LedgerWalletAdapter extends EventEmitter implements WalletAdapter {\n  _connecting: boolean;\n  _publicKey: PublicKey | null;\n  _transport: Transport | null;\n\n  constructor() {\n    super();\n    this._connecting = false;\n    this._publicKey = null;\n    this._transport = null;\n  }\n\n  get publicKey() {\n    return this._publicKey;\n  }\n\n  async signTransaction(transaction: Transaction) {\n    if (!this._transport || !this._publicKey) {\n      throw new Error(\"Not connected to Ledger\");\n    }\n\n    // @TODO: account selection (derivation path changes with account)\n    const signature = await signTransaction(this._transport, transaction);\n\n    transaction.addSignature(this._publicKey, signature);\n\n    return transaction;\n  }\n\n  async connect() {\n    if (this._connecting) {\n      return;\n    }\n\n    this._connecting = true;\n\n    try {\n      // @TODO: transport selection (WebUSB, WebHID, bluetooth, ...)\n      this._transport = await TransportWebUSB.create();\n      // @TODO: account selection\n      this._publicKey = await getPublicKey(this._transport);\n      this.emit(\"connect\", this._publicKey);\n    } catch (error) {\n      notify({\n        message: \"Ledger Error\",\n        description: error.message,\n      });\n      await this.disconnect();\n    } finally {\n      this._connecting = false;\n    }\n  }\n\n  async disconnect() {\n    let emit = false;\n    if (this._transport) {\n      await this._transport.close();\n      this._transport = null;\n      emit = true;\n    }\n\n    this._connecting = false;\n    this._publicKey = null;\n\n    if (emit) {\n      this.emit(\"disconnect\");\n    }\n  }\n}\n","import { WalletAdapter } from \"../walletAdapter\";\nimport EventEmitter from 'eventemitter3'\nimport { PublicKey, Transaction } from '@solana/web3.js'\nimport { notify } from \"../../utils/notifications\";\n\ntype PhantomEvent = 'disconnect' | 'connect'\ntype PhantomRequestMethod = 'connect' | 'disconnect' | 'signTransaction' | 'signAllTransactions'\n\ninterface PhantomProvider {\n  publicKey?: PublicKey\n  isConnected?: boolean\n  autoApprove?: boolean\n  signTransaction: (transaction: Transaction) => Promise<Transaction>\n  signAllTransactions: (transactions: Transaction[]) => Promise<Transaction[]>\n  connect: () => Promise<void>\n  disconnect: () => Promise<void>\n  on: (event: PhantomEvent, handler: (args: any) => void) => void\n  request: (method: PhantomRequestMethod, params: any) => Promise<any>\n  listeners: (event: PhantomEvent) => (() => void)[]\n}\n\nexport class PhantomWalletAdapter extends EventEmitter implements WalletAdapter {\n\n  constructor() {\n    super()\n    this.connect = this.connect.bind(this)\n  }\n\n  private get _provider(): PhantomProvider | undefined {\n    if ((window as any)?.solana?.isPhantom) {\n      return (window as any).solana\n    }\n    return undefined\n  }\n\n  private _handleConnect = (...args: any) => {\n    this.emit('connect', ...args)\n  }\n\n  private _handleDisconnect = (...args: any) => {\n    this.emit('disconnect', ...args)\n  }\n\n  get connected() {\n    return this._provider?.isConnected || false\n  }\n\n  get autoApprove() {\n    return this._provider?.autoApprove || false\n  }\n\n  // eslint-disable-next-line\n  async signAllTransactions(transactions: Transaction[]): Promise<Transaction[]> {\n    if (!this._provider) {\n      return transactions\n    }\n\n    return this._provider.signAllTransactions(transactions)\n  }\n\n  get publicKey() {\n    return this._provider?.publicKey!\n  }\n\n  // eslint-disable-next-line\n  async signTransaction(transaction: Transaction) {\n    if (!this._provider) {\n      return transaction\n    }\n\n    return this._provider.signTransaction(transaction)\n  }\n\n  connect() {\n    if (!this._provider) {\n      return\n    }\n\n    if (!((window as any).solana.isPhantom)) {\n      \n      notify({\n        message: \"Phantom Error\",\n        description: \"Please install Phantom wallet from Chrome \",\n      });\n      return;\n    }\n\n\n    if (this._provider && !this._provider.listeners('connect').length) {\n      this._provider?.on('connect', this._handleConnect)\n    }\n    if (!this._provider.listeners('disconnect').length) {\n        this._provider?.on('disconnect', this._handleDisconnect)\n    }\n    return this._provider?.connect()\n  }\n\n  disconnect() {\n    if (this._provider) {\n      this._provider.disconnect()\n    }\n  }\n}","import { LedgerWalletAdapter } from \"./ledger\";\nimport { PhantomWalletAdapter } from \"./phantom\";\n\nconst ASSETS_URL = \"https://raw.githubusercontent.com/solana-labs/oyster/main/assets/wallets/\";\n\nexport const WALLET_PROVIDERS = [\n  {\n    name: \"Sollet\",\n    url: \"https://www.sollet.io\",\n    icon: `${ASSETS_URL}sollet.svg`,\n  },\n  {\n    name: \"Solflare\",\n    url: \"https://solflare.com/access-wallet\",\n    icon: `${ASSETS_URL}solflare.svg`,\n  },\n  {\n    name: \"MathWallet\",\n    url: \"https://mathwallet.org\",\n    icon: `${ASSETS_URL}mathwallet.svg`,\n  },\n  {\n    name: \"Ledger\",\n    url: \"https://www.ledger.com\",\n    icon: `${ASSETS_URL}ledger.svg`,\n    adapter: LedgerWalletAdapter,\n  },\n  {\n    name: \"Phantom\",\n    url: \"https://phantom.app/\",\n    icon: `https://raydium.io/_nuxt/img/phantom.d9e3c61.png`,\n    adapter: PhantomWalletAdapter,\n  },\n];","import Wallet from \"@project-serum/sol-wallet-adapter\";\nimport React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport { notify } from \"./../utils/notifications\";\nimport { useConnectionConfig } from \"./connection\";\nimport { useLocalStorageState } from \"../utils/utils\";\nimport { WalletAdapter } from \"../wallet-adapters/walletAdapter\";\nimport { WALLET_PROVIDERS } from \"../wallet-adapters/walletProviders\";\nimport { Box, Button, Dialog, DialogActions, DialogContent } from \"@material-ui/core\";\n\nconst WalletContext = React.createContext<{\n  wallet: WalletAdapter | undefined;\n  connected: boolean;\n  select: () => void;\n  provider: typeof WALLET_PROVIDERS[number] | undefined; // TODO: Find something better than this we should be able to have a type of WalletAdapter here\n}>({\n  wallet: undefined,\n  connected: false,\n  select() {},\n  provider: undefined,\n});\n\nexport function WalletProvider({ children = null as any }) {\n  const { url } = useConnectionConfig();\n\n  const [autoConnect, setAutoConnect] = useState(false);\n  const [providerUrl, setProviderUrl] = useLocalStorageState(\"walletProvider\");\n\n  const provider = useMemo(\n    () => WALLET_PROVIDERS.find(provider => provider.url === providerUrl),\n    [providerUrl]\n  );\n\n  const wallet = useMemo(\n    function () {\n      if (provider) {\n        return provider.adapter ? new provider.adapter() : new Wallet(providerUrl, url);\n      }\n    },\n    [provider, providerUrl, url]\n  );\n\n  const [connected, setConnected] = useState(false);\n\n  useEffect(() => {\n    if (wallet) {\n      wallet.on(\"connect\", () => {\n        if (wallet.publicKey) {\n          setConnected(true);\n          const walletPublicKey = wallet.publicKey.toBase58();\n          const keyToDisplay =\n            walletPublicKey.length > 20\n              ? `${walletPublicKey.substring(\n                  0,\n                  7\n                )}.....${walletPublicKey.substring(\n                  walletPublicKey.length - 7,\n                  walletPublicKey.length\n                )}`\n              : walletPublicKey;\n\n          notify({\n            message: \"Wallet update\",\n            description: \"Connected to wallet \" + keyToDisplay,\n          });\n        }\n      });\n\n      wallet.on(\"disconnect\", () => {\n        setConnected(false);\n        notify({\n          message: \"Wallet update\",\n          description: \"Disconnected from wallet\",\n        });\n      });\n    }\n\n    return () => {\n      setConnected(false);\n      if (wallet) {\n        wallet.disconnect();\n      }\n    };\n  }, [wallet]);\n\n  useEffect(() => {\n    if (wallet && autoConnect) {\n      wallet.connect();\n      setAutoConnect(false);\n    }\n\n    return () => {};\n  }, [wallet, autoConnect]);\n\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const select = useCallback(() => setIsModalVisible(true), []);\n  const close = useCallback(() => setIsModalVisible(false), []);\n\n  return (\n    <WalletContext.Provider\n      value={{\n        wallet,\n        connected,\n        select,\n        provider,\n      }}\n    >\n      {children}\n      <Dialog\n        title=\"Select Wallet\"\n        open={isModalVisible}\n        onClose={close}\n        fullWidth={true}\n      >\n        <DialogContent>\n          {WALLET_PROVIDERS.map((provider) => {\n            const onClick = function () {\n              setProviderUrl(provider.url);\n              setAutoConnect(true);\n              close();\n            };\n\n            return (\n              <div key={provider.name}>\n                <Box m={1}>\n                  <Button\n                    size=\"large\"\n                    onClick={onClick}\n                    style={{\n                      display: \"inline-flex\",\n                      alignItems: \"center\",\n                      width: \"100%\",\n                      textAlign: \"left\",\n                    }}\n                    variant=\"contained\"\n                  >\n                    <img\n                      alt={`${provider.name}`}\n                      width={40}\n                      height={40}\n                      src={provider.icon}\n                      style={{ marginRight: 20 }}\n                    />\n                    {provider.name}\n                  </Button>\n                </Box>\n              </div>\n            );\n          })}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={close} color=\"primary\">\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </WalletContext.Provider>\n  );\n}\n\nexport function useWallet() {\n  const { wallet, connected, provider, select } = useContext(WalletContext);\n  return {\n    wallet,\n    connected,\n    provider,\n    select,\n    publicKey: wallet?.publicKey,\n    connect() {\n      wallet ? wallet.connect() : select();\n    },\n    disconnect() {\n      wallet?.disconnect();\n    },\n  };\n}","import { Tooltip, Typography } from \"@material-ui/core\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircle, faMinusCircle } from '@fortawesome/free-solid-svg-icons';\nimport { ValidatorScore } from '../utils/validatorsApp';\n\nfunction ScoreIcon(props: {header: string, score: number}) {\n    const {header, score} = props;\n  \n    // score between -2 and 2\n    return (\n      <Tooltip title={`${header} Score = ${score}`}>\n        <span>\n          { score >= 0 ?\n            <FontAwesomeIcon icon={faCircle} className={`score-${score}`} /> :\n            <FontAwesomeIcon icon={faMinusCircle} className={score === -1 ? 'text-warning' : 'text-danger'} />\n          }\n          {' '}\n        </span>\n      </Tooltip>\n    );\n  }\n\nexport function ValidatorScoreTray(props: {validatorScore: ValidatorScore}) {\n  const { validatorScore } = props;\n  return (\n    <Typography>\n      <ScoreIcon header=\"Root Distance\" score={validatorScore.root_distance_score} />\n      <ScoreIcon header=\"Vote Distance\" score={validatorScore.vote_distance_score} />\n      <ScoreIcon header=\"Skipped Slot\" score={validatorScore.skipped_slot_score} />\n      <ScoreIcon header=\"Published Info\" score={validatorScore.published_information_score} />\n      <ScoreIcon header=\"Software Version\" score={validatorScore.software_version_score} />\n      <ScoreIcon header=\"Security Report\" score={validatorScore.security_report_score} />\n      {validatorScore.stake_concentration_score < 0 &&\n        <ScoreIcon header=\"Stake concentration\" score={validatorScore.stake_concentration_score} />\n      }\n      {(validatorScore.data_center_concentration_score ?? 0) < 0 &&\n        <ScoreIcon header=\"Data Center Centration\" score={validatorScore.data_center_concentration_score ?? 0} />\n      }\n      ({validatorScore.total_score})\n    </Typography>\n  );\n}","import { type, string, number, nullable, array, Infer } from 'superstruct';\n\nlet BASE_URL = 'https://www.validators.app/api/v1/validators';\nif (process.env.NODE_ENV !== 'production') {\n  BASE_URL = 'https://cors-anywhere.herokuapp.com/' + BASE_URL; // Do not forget to activate the endpoint\n  if (!process.env.REACT_APP_VALIDATORS_APP_TOKEN) {\n    throw new Error('Set REACT_APP_VALIDATORS_APP_TOKEN for local development');\n  }\n}\nelse {\n  console.log('Use production validators app endpoint')\n}\n\nconst ValidatorScore = type({\n  account: string(),\n  total_score: number(),\n  root_distance_score: number(),\n  vote_distance_score: number(),\n  skipped_slot_score: number(),\n  software_version: nullable(string()),\n  software_version_score: number(),\n  stake_concentration_score: number(),\n  data_center_concentration_score: nullable(number()),\n  published_information_score: number(),\n  security_report_score: number(),\n});\n// eslint-disable-next-line @typescript-eslint/no-redeclare\nexport type ValidatorScore = Infer<typeof ValidatorScore>;\n\nexport const ValidatorList = array(ValidatorScore);\n// eslint-disable-next-line @typescript-eslint/no-redeclare\ntype ValidatorList = Infer<typeof ValidatorList>;\n\nexport async function getValidatorScores(cluster: string): Promise<ValidatorList> {\n  if (cluster === 'mainnet-beta') {\n    cluster = 'mainnet'; // Rename cluster to validators app convention\n  }\n\n  const response = await fetch(`${BASE_URL}/${cluster}.json?order=score`, {\n    headers: {\n      'Token': process.env.REACT_APP_VALIDATORS_APP_TOKEN as string\n    }\n  });\n  const data = await response.json();\n  const validatorList = ValidatorList.create(data);\n  return validatorList;\n}","import { Connection, PublicKey, ValidatorInfo, VoteAccountInfo } from \"@solana/web3.js\";\nimport { createContext, useEffect, useState } from \"react\";\nimport { ValidatorScore } from \"../utils/validatorsApp\";\nimport { useConnection, useConnectionConfig } from \"./connection\";\nimport { useWallet } from \"./wallet\";\nimport { getValidatorScores } from '../utils/validatorsApp'\n\nconst CONFIG_PROGRAM_ID = new PublicKey('Config1111111111111111111111111111111111111');\n\nasync function getValidatorInfos(connection: Connection) {\n  const validatorInfoAccounts = await connection.getProgramAccounts(CONFIG_PROGRAM_ID);\n\n  console.log(validatorInfoAccounts.length);\n  return validatorInfoAccounts.flatMap(validatorInfoAccount => {\n    const validatorInfo = ValidatorInfo.fromConfigData(validatorInfoAccount.account.data);\n    return validatorInfo ? [validatorInfo] : [];\n  })\n}\n\ninterface Validators {\n  voteAccountInfos: VoteAccountInfo[],\n  validatorInfos: ValidatorInfo[],\n  validatorScores: ValidatorScore[],\n  totalActivatedStake: number,\n};\n\nexport const ValidatorsContext = createContext<Validators>({\n  voteAccountInfos: [],\n  validatorInfos: [],\n  validatorScores: [],\n  totalActivatedStake: 0,\n});\n\nexport function ValidatorsProvider({ children = null as any }) {\n  const [voteAccountInfos, setVoteAccountInfos] = useState<VoteAccountInfo[]>([]);\n  const [validatorInfos, setValidatorInfos] = useState<ValidatorInfo[]>([]);\n  const [validatorScores, setValidatorScores] = useState<ValidatorScore[]>([]);\n  const [totalActivatedStake, setTotalActivatedStake] = useState(0);\n\n  const connection = useConnection();\n  const { cluster } = useConnectionConfig();\n  const { connected } = useWallet();\n  \n  useEffect(() => {\n    if (!connected) { return; }\n    connection.getVoteAccounts()\n      .then(voteAccountStatus => {\n        const activatedStake = voteAccountStatus.current.concat(voteAccountStatus.delinquent).reduce((sum, current) => sum + current.activatedStake, 0);\n        console.log('totalActivatedStake', activatedStake);\n        setTotalActivatedStake(activatedStake);\n        setVoteAccountInfos(voteAccountStatus.current ?? []);\n      });\n  }, [connected, connection]);\n  \n  useEffect(() => {\n    if (!connected) { return; }\n    getValidatorInfos(connection)\n      .then(validatorInfos => {\n        console.log(`validatorInfos.length: ${validatorInfos.length}`);\n        setValidatorInfos(validatorInfos);\n      });\n  }, [connected, connection]);\n  \n  useEffect(() => {\n    if (!connected) { return; }\n    getValidatorScores(cluster)\n      .then(setValidatorScores);\n  }, [connected, cluster]);\n\n  return (\n    <ValidatorsContext.Provider\n      value={{\n        voteAccountInfos,\n        validatorInfos,\n        validatorScores,\n        totalActivatedStake\n      }}\n    >\n      {children}\n    </ValidatorsContext.Provider>\n  );\n}","import 'react-virtualized/styles.css';\nimport AutoSizer from 'react-virtualized/dist/commonjs/AutoSizer';\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { sendTransaction, useSendConnection, useSolanaExplorerUrlSuffix } from \"../contexts/connection\";\nimport { LAMPORTS_PER_SOL, PublicKey, StakeProgram, ValidatorInfo, VoteAccountInfo } from \"@solana/web3.js\";\nimport { Button, Typography, Dialog, DialogActions, DialogContent, DialogTitle, Slider, TextField, Link, Box, CircularProgress } from '@material-ui/core';\nimport { useWallet } from '../contexts/wallet';\nimport { useMonitorTransaction } from '../utils/notifications';\nimport { formatPct, formatPriceNumber, shortenAddress, sleep } from '../utils/utils';\nimport { Column, Table, TableHeaderProps, TableCellProps } from 'react-virtualized';\nimport { defaultRowRenderer } from 'react-virtualized/dist/es/Table';\nimport { ValidatorScore } from '../utils/validatorsApp';\nimport { ValidatorScoreTray } from './ValidatorScoreTray';\nimport { ValidatorsContext } from '../contexts/validators';\nimport { useAsync } from 'react-async-hook';\n\nconst IMG_SRC_DEFAULT = 'placeholder-questionmark.png';\n\nfunction basicCellRenderer(props: TableCellProps) {\n  return (\n    <Typography>\n      {props.cellData}\n    </Typography>\n  );\n}\n\nfunction basicHeaderRenderer(props: TableHeaderProps) {\n  return (\n    <Typography>\n      {props.label}\n    </Typography>\n  );\n}\n\nfunction scoreCellRenderer(props: TableCellProps) {\n  return props.cellData ? \n    <ValidatorScoreTray validatorScore={props.cellData} />\n    : \"N.A.\";\n}\n\ninterface ValidatorMeta {\n  voteAccountInfo: VoteAccountInfo;\n  validatorInfo: ValidatorInfo | undefined;\n  validatorScore: ValidatorScore | undefined;\n};\n\nconst BATCH_SIZE = 100;\n\nasync function batchMatcher(\n  voteAccountStatus: VoteAccountInfo[],\n  validatorInfos: ValidatorInfo[],\n  validatorScores: ValidatorScore[],\n  onValidatorMetas: (metas: ValidatorMeta[]) => void\n  ) {\n  let validatorMetas: ValidatorMeta[] = [];\n  let remainingVoteAccountInfos = [...voteAccountStatus];\n  let remainingValidatorInfos = [...validatorInfos];\n\n  console.log('scores', validatorScores.length)\n\n  for(let i = 0; i < validatorScores.length; i++) {\n    const validatorScore = validatorScores[i];\n    const voteAccountIndex = remainingVoteAccountInfos.findIndex(info => info.nodePubkey === validatorScore.account);\n    if (voteAccountIndex < 0) {\n      // If score does not match anything then it goes into the no score bucket\n      continue;\n    }\n    const [voteAccountInfo] = remainingVoteAccountInfos.splice(voteAccountIndex, 1);\n\n    const validatorInfoIndex = remainingValidatorInfos.findIndex(validatorInfo => validatorInfo.key.equals(new PublicKey(voteAccountInfo.nodePubkey)));\n    let validatorInfo: ValidatorInfo | undefined;\n    [validatorInfo] = validatorInfoIndex > -1 ? remainingValidatorInfos.splice(validatorInfoIndex, 1) : [];\n\n    validatorMetas.push({\n      voteAccountInfo,\n      validatorInfo,\n      validatorScore,\n    });\n\n    if (i % BATCH_SIZE === 0) {\n      await sleep(1);\n      console.log(`batch index: ${i}`);\n      onValidatorMetas([...validatorMetas]);\n    }\n  }\n\n  for(let i = 0; i < remainingVoteAccountInfos.length; i++) {\n    const voteAccountInfo = remainingVoteAccountInfos[i];\n\n    const validatorInfoIndex = remainingValidatorInfos.findIndex(validatorInfo => validatorInfo.key.equals(new PublicKey(voteAccountInfo.nodePubkey)));\n    let validatorInfo: ValidatorInfo | undefined;\n    [validatorInfo] = validatorInfoIndex > -1 ? remainingValidatorInfos.splice(validatorInfoIndex, 1) : [];\n\n    validatorMetas.push({\n      voteAccountInfo,\n      validatorInfo,\n      validatorScore: undefined,\n    });\n\n    if (i % BATCH_SIZE === 0) {\n      await sleep(1);\n      console.log(`batch index: ${i}`);\n      onValidatorMetas([...validatorMetas]);\n    }\n  }\n  return validatorMetas;\n}\n\nexport function DelegateDialog(props: {stakePubkey: PublicKey, open: boolean, handleClose: () => void}) {\n  const {stakePubkey, open, handleClose} = props;\n  const sendConnection = useSendConnection();\n  const {wallet} = useWallet();\n  const {monitorTransaction, sending} = useMonitorTransaction();\n  const urlSuffix = useSolanaExplorerUrlSuffix();\n  \n  const [maxComission, setMaxComission] = useState<number>(100);\n\n  const { voteAccountInfos, validatorInfos, validatorScores, totalActivatedStake} = useContext(ValidatorsContext);\n\n  const [validatorMetas, setValidatorMetas] = useState<ValidatorMeta[]>([]);\n  const [filteredValidatorMetas, setFilteredValidatorMetas] = useState<ValidatorMeta[]>([]);\n  const [selectedIndex, setSelectedIndex] = useState<number>();\n  const [searchCriteria, setSearchCriteria] = useState<string>('');\n\n  // Batched validator meta building\n  // Order is VoteAccountInfo[] order, until validatorScores is available\n  // VoteAccountInfo with no available score go at the bottom of the list\n  useAsync(async () => {\n    const validatorMetas = await batchMatcher(\n      voteAccountInfos,\n      validatorInfos,\n      validatorScores,\n      (validatorMetas) => setValidatorMetas(validatorMetas)\n    );\n    setValidatorMetas(validatorMetas);\n  }, [voteAccountInfos, validatorInfos, validatorScores]);\n\n  useEffect(() => {\n    setSelectedIndex(undefined);\n    setFilteredValidatorMetas(validatorMetas.filter(meta => {\n      const votePubkeyMatches = searchCriteria ? meta.voteAccountInfo.votePubkey.includes(searchCriteria) : true;\n      const nameMatches = searchCriteria ? meta.validatorInfo?.info.name.toLowerCase().includes(searchCriteria.toLowerCase()) : true;\n\n      return (meta.voteAccountInfo.commission <= maxComission) && (votePubkeyMatches || nameMatches);\n    }));\n  }, [validatorMetas, maxComission, searchCriteria]);\n\n  useEffect(() => {\n    if(selectedIndex !== undefined && selectedIndex >= filteredValidatorMetas.length) {\n      setSelectedIndex(undefined);\n    }\n  }, [filteredValidatorMetas, selectedIndex]);\n\n  return (\n    <Dialog\n      open={open}\n      fullWidth={true}\n      onClose={handleClose}\n      maxWidth=\"lg\"\n    >\n      <DialogTitle>\n        Choose a validator\n      </DialogTitle>\n      <DialogContent>\n        <div>\n          <Typography>\n            Max commission %\n          </Typography>\n          <Slider\n            color=\"secondary\"\n            style={{width: '20%'}}\n            value={maxComission}\n            onChange={(event, newValue) => {setMaxComission(newValue as number)}}\n            aria-labelledby=\"continuous-slider\"\n            step={1}\n            valueLabelDisplay=\"auto\"\n          />\n          <Typography>\n            The top 200 validators in terms of APY offer between 7.0 and 8.1% APY (even with fees)\n          </Typography>\n        </div>\n\n        <TextField\n          title=\"Search\"\n          placeholder=\"Name or vote account\"\n          value={searchCriteria}\n          onChange={(e) => {\n            setSearchCriteria(e.target.value);\n          }}\n        />\n\n        <Box m={2} />\n\n        <div style={{height: '60vh'}}>\n          <AutoSizer>\n            {({height, width}) => (\n              <Table\n                width={width}\n                height={height}\n                headerHeight={20}\n                rowHeight={70}\n                rowCount={filteredValidatorMetas.length}\n                rowGetter={({index}) => {\n                  return filteredValidatorMetas[index];\n                }}\n                onRowClick={({index}) => { setSelectedIndex(index) }}\n                rowRenderer={props => {\n                  const className = props.index === selectedIndex ? ' clickedItem': ' item';\n                  return defaultRowRenderer({...props, className: props.className + className});\n                }}\n              >\n                <Column\n                  dataKey=\"validatorInfo\"\n                  width={80}\n                  cellDataGetter={({rowData}) => rowData.validatorInfo?.info?.keybaseUsername ?\n                    `https://keybase.io/${rowData.validatorInfo?.info?.keybaseUsername}/picture`\n                    : IMG_SRC_DEFAULT\n                  }\n                  cellRenderer={(props: TableCellProps) => (\n                    <img\n                      height=\"60px\"\n                      src={props.cellData as string}\n                      alt=\"\"\n                    />)\n                  }\n                />\n                <Column\n                  label=\"name or account\"\n                  dataKey=\"name\"\n                  width={240}\n                  headerRenderer={basicHeaderRenderer}\n                  cellDataGetter={({rowData}) => ({votePubkey: rowData.voteAccountInfo.votePubkey, name: rowData.validatorInfo?.info?.name})}\n                  cellRenderer={(props: TableCellProps) => {\n                    return (\n                      <div>\n                        <Typography>\n                          <Link color=\"secondary\" href={`https://explorer.solana.com/address/${props.cellData.votePubkey}${urlSuffix}`} rel=\"noopener noreferrer\" target=\"_blank\">\n                            {props.cellData.name ? props.cellData.name : shortenAddress(props.cellData.votePubkey, 6)}\n                          </Link>\n                        </Typography>\n                      </div>\n                    );\n                  }}\n                />\n                <Column\n                  label=\"Stake (SOL)\"\n                  dataKey=\"activatedStake\"\n                  headerRenderer={basicHeaderRenderer} cellRenderer={basicCellRenderer}\n                  cellDataGetter={({rowData}) => `${formatPriceNumber.format(rowData.voteAccountInfo.activatedStake / LAMPORTS_PER_SOL)} (${formatPct.format(rowData.voteAccountInfo.activatedStake / totalActivatedStake)})`}\n                  width={180}\n                />\n                <Column\n                  label=\"Fee\"\n                  dataKey=\"commission\"\n                  headerRenderer={basicHeaderRenderer}\n                  cellDataGetter={({rowData}) => `${rowData.voteAccountInfo.commission}%`}\n                  cellRenderer={basicCellRenderer}\n                  width={80}\n                />\n                <Column\n                  label=\"Website\"\n                  dataKey=\"website\"\n                  headerRenderer={basicHeaderRenderer}\n                  cellDataGetter={({rowData}) => rowData.validatorInfo?.info?.website}\n                  cellRenderer={(props: TableCellProps) => {\n                    return (\n                      <Typography>\n                        <Link color=\"secondary\" href={props.cellData} rel=\"noopener noreferrer\" target=\"_blank\">\n                          {props.cellData}\n                        </Link>\n                      </Typography>\n                    );\n                  }}\n                  width={300}\n                />\n                <Column\n                  label=\"Score\"\n                  dataKey=\"validatorScore\"\n                  headerRenderer={() => (\n                    <Typography>\n                      Score (Max 11)\n                      <Link href=\"https://validators.app/faq\" rel=\"noopener noreferrer\" target=\"_blank\">\n                        <img height=\"15px\" src=\"va-logo.png\" alt=\"\" style={{verticalAlign: \"middle\"}}/>\n                      </Link>\n                    </Typography>\n                  )}\n                  cellDataGetter={({rowData}) => rowData.validatorScore}\n                  cellRenderer={scoreCellRenderer}\n                  width={200}\n                />\n              </Table>\n            )}\n          </AutoSizer>\n        </div>\n\n        <Box m={2}>\n          {(selectedIndex && filteredValidatorMetas[selectedIndex]) && (\n            <Typography variant=\"h6\">\n              Selected {shortenAddress(filteredValidatorMetas[selectedIndex].voteAccountInfo.votePubkey)}\n            </Typography>\n          )}\n        </Box>\n      </DialogContent>\n\n      <DialogActions>\n        <Button onClick={handleClose}>Close</Button>\n        <Button\n          disabled={selectedIndex === undefined || sending}\n          onClick={async () => {\n            if(!wallet?.publicKey || selectedIndex === undefined || !filteredValidatorMetas[selectedIndex]) {\n              return;\n            }\n\n            const transaction = StakeProgram.delegate({\n              stakePubkey,\n              authorizedPubkey: wallet.publicKey,\n              votePubkey: new PublicKey(filteredValidatorMetas[selectedIndex].voteAccountInfo.votePubkey)\n            });\n\n            await monitorTransaction(\n              sendTransaction(\n                sendConnection,\n                wallet,\n                transaction.instructions,\n                []\n              ),\n              {\n                onSuccess: () => {\n                  handleClose();\n                },\n                onError: () => {}\n              }\n            );\n          }}\n        >\n          {sending ? <CircularProgress color=\"secondary\" size={14} /> : \"Delegate\"}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import { Box, Button, Card, CardActions, CardContent, CircularProgress, Collapse, Dialog, DialogActions, DialogContent, DialogTitle, InputAdornment, Link, List, ListItem, ListItemText, TextField, Tooltip, Typography } from \"@material-ui/core\";\nimport { ExpandLess, ExpandMore, OpenInNew } from \"@material-ui/icons\";\nimport { LAMPORTS_PER_SOL, PublicKey, StakeActivationData, StakeProgram } from \"@solana/web3.js\";\nimport BN from \"bn.js\";\nimport React, { useContext, useEffect, useMemo, useState } from \"react\";\nimport { sendTransaction, useConnection, useSendConnection, useSolanaExplorerUrlSuffix } from \"../contexts/connection\";\nimport { EpochContext } from \"../contexts/epoch\";\nimport { useWallet } from \"../contexts/wallet\";\nimport { getFirstBlockTime } from \"../utils/block\";\nimport { useMonitorTransaction } from \"../utils/notifications\";\nimport { StakeAccountMeta } from \"../utils/stakeAccounts\";\nimport { formatPct } from \"../utils/utils\";\nimport { WalletAdapter } from \"../wallet-adapters/walletAdapter\";\nimport { DelegateDialog } from \"./DelegateDialog\";\n\nconst MAX_EPOCH = new BN(2).pow(new BN(64)).sub(new BN(1));\n\nexport function StakeAccountCard({stakeAccountMeta}: {stakeAccountMeta: StakeAccountMeta}) {\n  const connection = useConnection();\n  const sendConnection = useSendConnection();\n  const {wallet, connected} = useWallet();\n  const {monitorTransaction} = useMonitorTransaction();\n  const urlSuffix = useSolanaExplorerUrlSuffix();\n  const { epochSchedule, epochStartTime } = useContext(EpochContext);\n\n  const [rewardsOpen, setRewardsOpen] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [stakeActivationData, setStakeActivationData] = useState<StakeActivationData>();\n  const [withdrawOpen, setWithdrawOpen] = useState(false);\n  const [activatedBlockTime, setActivatedBlockTime] = useState<number>();\n\n  function formatEpoch(epoch: BN) {\n    return epoch.eq(MAX_EPOCH) ? '-' : epoch.toString();\n  }\n\n  useEffect(() => {\n    console.log(`${(connection as any)._rpcEndpoint}, ${stakeAccountMeta.address.toBase58()}`);\n    connection.getStakeActivation(stakeAccountMeta.address)\n      .then(setStakeActivationData)\n      .catch(error => {\n        console.log(`Failed: ${error}`);\n        setStakeActivationData(undefined);\n      });\n    // Hidden dependency as we update only the underlying data\n    // eslint-disable-next-line\n  }, [connection, stakeAccountMeta, stakeAccountMeta.stakeAccount]);\n\n  const totalRewards = useMemo(() => {\n    return stakeAccountMeta.inflationRewards.reduce((sum, current) => sum + current.amount, 0)\n  }, [stakeAccountMeta]);\n\n  useEffect(() => {\n    setActivatedBlockTime(undefined);\n    if(!stakeAccountMeta.stakeAccount.info.stake || !epochSchedule) {\n      return;\n    }\n\n    const firstActivatedSlot = epochSchedule.getFirstSlotInEpoch(\n      stakeAccountMeta.stakeAccount.info.stake.delegation.activationEpoch.toNumber() + 1\n    );\n    getFirstBlockTime(connection, firstActivatedSlot)\n      .then(setActivatedBlockTime);\n  }, [connection, stakeAccountMeta, epochSchedule]);\n\n  const APY = useMemo(() => {\n    const initialStake = stakeAccountMeta.lamports - totalRewards;\n    if(!epochStartTime || !activatedBlockTime) {\n      return;\n    }\n\n    const timePeriod = epochStartTime - activatedBlockTime;\n    console.log(`timePeriod: ${timePeriod}, epochStartTime: ${epochStartTime}, activatedBlockTime: ${activatedBlockTime}`);\n    return totalRewards / initialStake / timePeriod * 365 * 24 * 60 * 60;\n  }, [stakeAccountMeta, totalRewards, epochStartTime, activatedBlockTime])\n  \n  return (\n    <Box m={1}>\n      <Card variant=\"outlined\">\n        <CardContent>\n          <Typography component=\"h1\" gutterBottom>\n            Seed: {stakeAccountMeta.seed}\n          </Typography>\n          <Typography variant=\"h6\" component=\"h2\">\n            {`Balance: ${stakeAccountMeta.lamports / LAMPORTS_PER_SOL} SOL`} \n          </Typography>\n          <Typography color=\"textSecondary\">\n            Type: {stakeAccountMeta.stakeAccount.type}\n          </Typography>\n          {stakeAccountMeta.stakeAccount.info.stake && (\n            <Typography color=\"textSecondary\">\n              Activation epoch: {formatEpoch(stakeAccountMeta.stakeAccount.info.stake.delegation.activationEpoch)},\n              Deactivation epoch: {formatEpoch(stakeAccountMeta.stakeAccount.info.stake.delegation.deactivationEpoch)},\n              Voter: {stakeAccountMeta.stakeAccount.info.stake.delegation.voter.toBase58()}\n            </Typography>\n          )}\n          <Typography>\n            State: {stakeActivationData?.state}\n          </Typography>\n\n          <Button onClick={() => setRewardsOpen(!rewardsOpen)}>\n            Rewards {totalRewards / LAMPORTS_PER_SOL} SOL, {(APY && formatPct.format(APY)) || '-'} APY\n            {rewardsOpen ? <ExpandLess /> : <ExpandMore />}\n          </Button>\n          <Collapse in={rewardsOpen} timeout=\"auto\" unmountOnExit>\n            <List component=\"div\" disablePadding>\n              {stakeAccountMeta.inflationRewards.map(inflationReward => (\n              <ListItem style={{paddingLeft: 4}} key={inflationReward.epoch}>\n                <ListItemText primary={`Epoch: ${inflationReward.epoch}, reward: ${inflationReward.amount / LAMPORTS_PER_SOL} SOL`} />\n              </ListItem>\n              ))}\n            </List>\n          </Collapse>\n        </CardContent>\n\n        <CardActions>\n          <Link color=\"secondary\" href={`https://explorer.solana.com/address/${stakeAccountMeta.address.toBase58()}${urlSuffix}`} rel=\"noopener noreferrer\" target=\"_blank\">\n            <OpenInNew />\n          </Link>\n          <Tooltip\n            title={connected ? \"Delegate stake account to a vote account\": \"Connect wallet to interact with stake accounts\"}\n          >\n            <>\n              <div\n                hidden={stakeActivationData?.state === \"active\"}\n              >\n                <Button\n                  variant=\"outlined\"\n                  onClick={() => setOpen(true)}\n                  disabled={!connected}\n                >\n                  {stakeActivationData?.state === \"activating\" && \"Re-\"}Delegate\n                </Button>\n              </div>\n              <div\n                hidden={stakeActivationData?.state === \"inactive\"}\n              >\n                <Button\n                  variant=\"outlined\"\n                  onClick={async () => {\n                    if(!wallet?.publicKey) {\n                      return;\n                    }\n\n                    const transaction = StakeProgram.deactivate({\n                      stakePubkey: stakeAccountMeta.address,\n                      authorizedPubkey: wallet.publicKey,\n                    });\n\n                    await monitorTransaction(\n                      sendTransaction(\n                        sendConnection,\n                        wallet,\n                        transaction.instructions,\n                        []\n                      ),\n                      {\n                        onSuccess: () => {\n\n                        },\n                        onError: () => {}\n                      }\n                    );\n                  }} \n                  disabled={!connected}\n                >\n                  Undelegate\n                </Button>\n              </div>\n              <div\n                hidden={stakeActivationData?.state !== \"inactive\"}\n              >\n                <Button\n                  variant=\"outlined\"\n                  onClick={() => {\n                    setWithdrawOpen(true);\n                  }}\n                >\n                  Withdraw\n                </Button>\n                {wallet?.publicKey && withdrawOpen && (\n                  <WithdrawDialog\n                    wallet={wallet}\n                    userPublicKey={wallet.publicKey}\n                    stakePubkey={stakeAccountMeta.address}\n                    stakeAccountLamports={stakeAccountMeta.lamports}\n                    handleClose={() => {\n                      setWithdrawOpen(false);\n                    }}\n                  />\n                )}\n              </div>\n            </>\n          </Tooltip>\n\n          {open && \n            <DelegateDialog\n              stakePubkey={stakeAccountMeta.address}\n              open={open}\n              handleClose={() => {\n                setOpen(false);\n              }}\n            />    \n          }\n\n        </CardActions>\n      </Card>\n    </Box>)\n}\n\ninterface WithdrawDialogProps {\n  wallet: WalletAdapter;\n  userPublicKey: PublicKey;\n  stakePubkey: PublicKey;\n  stakeAccountLamports: number;\n  handleClose: () => void;\n};\n\nfunction WithdrawDialog({wallet, userPublicKey, stakePubkey, stakeAccountLamports, handleClose}: WithdrawDialogProps) {\n  const sendConnection = useSendConnection();\n  const {monitorTransaction, sending} = useMonitorTransaction();\n\n  const [amount, setAmount] = useState('');\n  const max = useMemo(() => {\n    return stakeAccountLamports / LAMPORTS_PER_SOL;\n  }, [stakeAccountLamports]);\n\n  return (\n    <Dialog\n      open\n      onClose={handleClose}\n    >\n      <DialogTitle>\n        Withdraw from inactive stake account\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          placeholder=\"SOL\"\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <Button\n                  onClick={() => \n                    setAmount(max.toString())\n                  }\n                >\n                  MAX\n                </Button>\n                SOL\n              </InputAdornment>\n            ),\n            inputProps: {\n              step: 0.1,\n            },\n          }}\n          value={amount}\n          onChange={e => {\n            setAmount(e.target.value);\n          }}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose}>Close</Button>\n        <Button\n          disabled={sending}\n          onClick={async () => {\n            await monitorTransaction(\n              sendTransaction(\n                sendConnection,\n                wallet,\n                StakeProgram.withdraw({\n                  stakePubkey,\n                  authorizedPubkey: userPublicKey,\n                  toPubkey: userPublicKey,\n                  lamports: Number(amount) * LAMPORTS_PER_SOL,\n                }).instructions,\n                []\n              ),\n              {\n                onSuccess: () => {\n                  handleClose();\n                },\n                onError: () => {}\n              }\n            );\n          }}\n        >\n          {sending ?\n            <CircularProgress color=\"secondary\" size={14} />\n            : \"Withdraw\"\n          }\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M381.957 73.2101C382.255 72.0602 382.425 71.0381 382.425 70.1012C382.425 66.3959 380.002 64.5646 375.156 64.5646H291.122C280.453 64.5646 270.549 67.631 261.368 73.7638C252.187 79.8966 246.449 87.307 244.153 95.9525C243.473 98.4227 243.176 100.808 243.176 103.065C243.176 108.772 245.301 113.797 249.551 118.184C255.417 124.317 263.706 127.383 274.332 127.383H328.825C331.97 127.383 334.436 128.277 336.178 130.109C337.368 131.429 338.006 132.962 338.006 134.666C338.006 135.39 337.879 136.156 337.624 136.923C336.901 139.606 335.201 141.863 332.48 143.694C329.802 145.568 326.87 146.463 323.724 146.463H239.69C233.654 146.463 229.829 149.359 228.256 155.108L227.066 159.665C226.768 160.815 226.598 161.837 226.598 162.774C226.598 166.479 229.021 168.311 233.867 168.311H317.901C328.57 168.311 338.474 165.244 347.655 159.112C356.836 152.979 362.574 145.568 364.87 136.923C365.55 134.495 365.89 132.153 365.89 129.896C365.89 124.189 363.765 119.121 359.514 114.692C353.648 108.559 345.36 105.492 334.733 105.492H280.198C277.053 105.492 274.63 104.555 272.93 102.682C271.655 101.404 271.017 99.9133 271.017 98.2097C271.017 97.4857 271.144 96.7191 271.399 95.9525C272.08 93.2694 273.78 91.0122 276.5 89.1809C279.221 87.3496 282.153 86.4126 285.299 86.4126H369.333C375.369 86.4126 379.152 83.5166 380.682 77.7671L381.957 73.2101Z\",\n  fill: \"url(#paint0_linear)\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M520.568 94.4193C520.568 87.3922 517.891 81.1742 512.577 75.7655C505.266 68.3124 495.022 64.5646 481.888 64.5646H445.546C432.411 64.5646 420.17 68.3124 408.863 75.7655C397.557 83.2185 390.501 92.2473 387.695 102.809L380.342 130.109C379.534 133.005 379.152 135.816 379.152 138.499C379.152 145.526 381.83 151.744 387.143 157.153C394.454 164.606 404.698 168.353 417.832 168.353H454.174C467.309 168.353 479.55 164.606 490.857 157.153C502.163 149.699 509.219 140.671 512.025 130.109L519.378 102.809C520.186 99.8707 520.568 97.1024 520.568 94.4193ZM492.132 102.809L484.779 130.109C483.546 134.666 480.57 138.541 475.725 141.693C470.922 144.887 465.651 146.463 459.955 146.463H423.613C417.917 146.463 413.539 144.844 410.436 141.65C408.141 139.393 406.993 136.753 406.993 133.729C406.993 132.579 407.163 131.344 407.546 130.109L414.899 102.809C416.089 98.2523 419.107 94.3767 423.953 91.2252C428.756 88.031 434.027 86.4552 439.722 86.4552H476.065C481.761 86.4552 486.181 88.031 489.327 91.1826C491.58 93.4824 492.685 96.1655 492.685 99.1893C492.685 100.297 492.472 101.532 492.132 102.809Z\",\n  fill: \"url(#paint1_linear)\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M575.868 42.8017C575.868 39.0965 573.446 37.2651 568.6 37.2651H559.504C553.468 37.2651 549.642 40.1612 548.155 45.9106L517.721 159.665C517.423 160.815 517.253 161.837 517.253 162.774C517.253 166.479 519.676 168.311 524.521 168.311H533.618C539.654 168.311 543.479 165.415 544.967 159.665L575.401 45.9106C575.741 44.7608 575.868 43.7386 575.868 42.8017Z\",\n  fill: \"url(#paint2_linear)\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M720.941 73.2101C721.238 72.0602 721.408 71.0381 721.408 70.1012C721.408 66.3959 718.985 64.5646 714.14 64.5646H630.106C619.437 64.5646 609.533 67.631 600.352 73.7638C591.171 79.8966 585.432 87.307 583.137 95.9525C582.457 98.4227 582.159 100.808 582.159 103.065C582.159 108.772 584.285 113.797 588.535 118.184C594.401 124.317 602.69 127.383 613.316 127.383H667.808C670.954 127.383 673.419 128.277 675.162 130.109C676.352 131.429 676.99 132.962 676.99 134.666C676.99 135.39 676.862 136.156 676.607 136.923C675.885 139.606 674.184 141.863 671.464 143.694C668.786 145.568 665.853 146.463 662.708 146.463H578.674C572.638 146.463 568.812 149.359 567.24 155.108L566.05 159.665C565.752 160.815 565.582 161.837 565.582 162.774C565.582 166.479 568.005 168.311 572.851 168.311H656.884C667.553 168.311 677.457 165.244 686.639 159.112C695.82 152.979 701.558 145.568 703.853 136.923C704.534 134.495 704.831 132.153 704.831 129.896C704.831 124.189 702.706 119.121 698.455 114.692C692.589 108.559 684.301 105.492 673.674 105.492H619.182C616.036 105.492 613.614 104.555 611.913 102.682C610.638 101.404 610.001 99.9133 610.001 98.2097C610.001 97.4857 610.128 96.7191 610.383 95.9525C611.063 93.2694 612.763 91.0122 615.484 89.1809C618.204 87.3496 621.137 86.4126 624.283 86.4126H708.317C714.352 86.4126 718.178 83.5166 719.666 77.7671L720.941 73.2101Z\",\n  fill: \"url(#paint3_linear)\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M758.261 86.4125H780.959C786.995 86.4125 790.82 83.5165 792.308 77.767L793.583 73.21C793.881 72.0601 794.051 71.038 794.051 70.101C794.051 66.3958 791.628 64.5645 786.782 64.5645H764.084L769.1 45.9106C769.397 44.7608 769.567 43.7386 769.567 42.8017C769.567 39.0965 767.145 37.2651 762.299 37.2651H753.203C747.167 37.2651 743.341 40.1612 741.854 45.9106L719.326 130.109C718.56 133.005 718.135 135.815 718.135 138.499C718.135 145.526 720.813 151.744 726.126 157.152C733.437 164.605 743.681 168.353 756.816 168.353H759.068C765.104 168.353 768.93 165.457 770.417 159.708L771.608 155.151C771.905 153.916 772.075 152.894 772.075 151.957C772.075 148.337 769.695 146.505 764.892 146.505H762.639C756.943 146.505 752.565 144.887 749.462 141.693C747.167 139.435 746.019 136.795 746.019 133.771C746.019 132.621 746.189 131.386 746.572 130.151L758.261 86.4125Z\",\n  fill: \"url(#paint4_linear)\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M932.237 94.4193C932.237 87.3922 929.559 81.1742 924.246 75.7655C916.935 68.3124 906.691 64.5646 893.557 64.5646H818.619C812.583 64.5646 808.758 67.4607 807.27 73.2101L805.995 77.7671C805.697 78.917 805.527 79.9391 805.527 80.8761C805.527 84.5813 807.95 86.4126 812.796 86.4126H887.733C893.429 86.4126 897.85 87.9884 900.995 91.14C903.248 93.4398 904.353 96.1229 904.353 99.1467C904.353 100.297 904.183 101.532 903.801 102.767L903.078 105.492H837.237C826.568 105.492 816.664 108.559 807.44 114.692C798.216 120.824 792.478 128.235 790.183 136.88C789.503 139.308 789.163 141.65 789.163 143.907C789.163 149.614 791.33 154.682 795.623 159.112C801.489 165.244 809.778 168.311 820.404 168.311H865.843C878.977 168.311 891.219 164.563 902.525 157.11C913.832 149.657 920.888 140.628 923.693 130.066L931.047 102.767C931.812 99.8707 932.237 97.1024 932.237 94.4193ZM896.447 130.109C895.214 134.666 892.239 138.541 887.393 141.693C882.548 144.844 877.32 146.463 871.624 146.463H826.185C823.04 146.463 820.617 145.526 818.917 143.652C817.641 142.374 817.004 140.884 817.004 139.18C817.004 138.456 817.131 137.689 817.386 136.923C818.109 134.24 819.809 131.983 822.53 130.151C825.25 128.32 828.14 127.383 831.286 127.383H897.127L896.447 130.109Z\",\n  fill: \"url(#paint5_linear)\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1084.28 73.21C1084.58 72.0601 1084.75 71.038 1084.75 70.101C1084.75 66.3958 1082.32 64.5645 1077.48 64.5645H1072.93C1069.53 64.5645 1063.49 66.1403 1054.78 69.2919L973.553 96.5061L987.069 45.9106C987.367 44.7608 987.537 43.7386 987.537 42.8017C987.537 39.0965 985.114 37.2651 980.268 37.2651H971.172C965.136 37.2651 961.311 40.1612 959.823 45.9106L929.389 159.665C929.092 160.815 928.922 161.837 928.922 162.774C928.922 166.479 931.344 168.311 936.19 168.311H945.286C951.322 168.311 955.148 165.415 956.635 159.665L962.884 136.369L1029.58 163.583C1036.59 166.735 1041.82 168.311 1045.22 168.311H1049.77C1055.8 168.311 1059.63 165.415 1061.11 159.58C1061.37 158.728 1061.5 157.962 1061.5 157.195C1061.5 154.725 1060.22 152.723 1057.67 151.19L978.483 116.438L1076.33 81.6C1080.58 79.7261 1083.26 76.9153 1084.28 73.21Z\",\n  fill: \"url(#paint6_linear)\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1110.63 127.383H1176.48C1187.14 127.383 1197.05 124.317 1206.23 118.184C1215.41 112.051 1221.19 104.641 1223.53 95.9951C1224.21 93.5676 1224.51 91.2252 1224.51 88.968C1224.51 83.2611 1222.38 78.193 1218.13 73.7638C1212.18 67.631 1203.89 64.5646 1193.22 64.5646H1147.83C1134.69 64.5646 1122.45 68.3124 1111.14 75.7655C1099.84 83.2185 1092.78 92.2473 1089.98 102.809L1082.62 130.109C1081.86 133.005 1081.43 135.816 1081.43 138.499C1081.43 145.526 1084.11 151.744 1089.42 157.153C1096.73 164.606 1106.98 168.353 1120.11 168.353H1195.05C1201.09 168.353 1204.91 165.457 1206.4 159.708L1207.59 155.151C1207.89 153.916 1208.06 152.894 1208.06 151.957C1208.06 148.337 1205.68 146.505 1200.87 146.505H1125.98C1120.28 146.505 1115.9 144.887 1112.8 141.693C1110.51 139.436 1109.36 136.795 1109.36 133.771C1109.36 132.621 1109.53 131.386 1109.91 130.151L1110.63 127.383ZM1117.26 102.809C1118.5 98.2523 1121.47 94.3767 1126.32 91.2252C1131.12 88.031 1136.39 86.4552 1142.09 86.4552H1187.53C1190.67 86.4552 1193.1 87.3496 1194.8 89.1809C1195.99 90.5012 1196.62 92.0769 1196.62 93.8231C1196.62 94.5471 1196.54 95.2711 1196.37 95.9951C1195.65 98.6782 1193.95 100.935 1191.22 102.767C1188.5 104.598 1185.61 105.535 1182.47 105.535H1116.63L1117.26 102.809Z\",\n  fill: \"url(#paint7_linear)\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1241.81 146.463H1232.71C1226.67 146.463 1222.85 149.359 1221.28 155.108L1220.09 159.665C1219.79 160.815 1219.62 161.837 1219.62 162.774C1219.62 166.479 1222.04 168.311 1226.89 168.311H1235.98C1242.02 168.311 1245.84 165.415 1247.33 159.665L1248.52 155.108C1248.82 153.873 1248.99 152.851 1248.99 151.914C1248.99 148.294 1246.57 146.463 1241.81 146.463Z\",\n  fill: \"url(#paint8_linear)\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1311.81 70.1438C1311.81 66.4386 1309.39 64.6072 1304.55 64.6072H1295.45C1289.41 64.6072 1285.59 67.5033 1284.1 73.2528L1260.93 159.708C1260.64 160.858 1260.47 161.88 1260.47 162.817C1260.47 166.522 1262.89 168.353 1267.74 168.353H1276.83C1282.87 168.353 1286.69 165.457 1288.18 159.708L1311.35 73.2528C1311.69 72.0603 1311.81 71.0381 1311.81 70.1438Z\",\n  fill: \"url(#paint9_linear)\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1296.94 59.1131H1306.03C1312.07 59.1131 1315.89 56.2171 1317.47 50.4676L1318.66 45.9106C1318.95 44.7607 1319.12 43.7386 1319.12 42.8017C1319.12 39.0965 1316.7 37.2651 1311.86 37.2651H1302.76C1296.72 37.2651 1292.9 40.1612 1291.41 45.9106L1290.22 50.4676C1289.92 51.7027 1289.75 52.7248 1289.75 53.6618C1289.75 57.2818 1292.13 59.1131 1296.94 59.1131Z\",\n  fill: \"url(#paint10_linear)\"\n});\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1442.01 75.7655C1434.7 68.3124 1424.45 64.5646 1411.32 64.5646H1374.98C1361.84 64.5646 1349.6 68.3124 1338.29 75.7655C1326.99 83.2185 1319.93 92.2473 1317.13 102.809L1309.77 130.109C1309.01 133.005 1308.58 135.816 1308.58 138.499C1308.58 145.526 1311.26 151.744 1316.57 157.153C1323.89 164.606 1334.13 168.353 1347.26 168.353H1383.61C1396.74 168.353 1408.98 164.606 1420.29 157.153C1431.59 149.699 1438.65 140.671 1441.46 130.109L1448.81 102.809C1449.57 99.9133 1450 97.1024 1450 94.4193C1450 87.3922 1447.32 81.1742 1442.01 75.7655ZM1421.56 102.809L1414.21 130.109C1412.98 134.666 1410 138.541 1405.16 141.693C1400.31 144.844 1395.08 146.463 1389.39 146.463H1353.04C1347.35 146.463 1342.97 144.844 1339.87 141.65C1337.57 139.393 1336.42 136.753 1336.42 133.729C1336.42 132.579 1336.59 131.344 1336.98 130.109L1344.33 102.809C1345.56 98.2523 1348.54 94.3767 1353.38 91.2252C1358.19 88.031 1363.46 86.4552 1369.15 86.4552H1405.5C1411.19 86.4552 1415.61 88.031 1418.76 91.1826C1421.01 93.4824 1422.12 96.1655 1422.12 99.1893C1422.12 100.297 1421.9 101.532 1421.56 102.809Z\",\n  fill: \"url(#paint11_linear)\"\n});\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M29.7966 137.775C24.4408 127 21.4229 114.862 21.4229 102C21.4229 57.58 57.5103 21.4221 101.844 21.4221C114.681 21.4221 126.795 24.4459 137.549 29.8121L157.611 16.6948C141.544 6.17537 122.374 0 101.801 0C45.6512 0 0 45.7403 0 102C0 122.613 6.16334 141.82 16.7048 157.876L29.7966 137.775Z\",\n  fill: \"url(#paint12_linear)\"\n});\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M186.898 46.1234L173.806 66.2253C179.162 77.0003 182.18 89.1381 182.18 102C182.18 146.42 146.092 182.578 101.759 182.578C88.9221 182.578 76.808 179.554 66.054 174.188L45.9913 187.305C62.016 197.867 81.1861 204.042 101.759 204.042C157.909 204.042 203.56 158.302 203.56 102.042C203.603 81.3869 197.439 62.1794 186.898 46.1234Z\",\n  fill: \"url(#paint13_linear)\"\n});\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M80.9311 163.072C87.4769 165.33 94.4904 166.565 101.801 166.565C137.379 166.565 166.24 137.647 166.24 102C166.24 94.6749 165.008 87.6477 162.755 81.0891L80.9311 163.072Z\",\n  fill: \"url(#paint14_linear)\"\n});\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M37.4051 102C37.4051 109.325 38.6377 116.353 40.8905 122.911L122.714 40.9279C116.168 38.6707 109.155 37.4356 101.844 37.4356C66.224 37.4782 37.4051 66.3534 37.4051 102Z\",\n  fill: \"url(#paint15_linear)\"\n});\n\nvar _ref18 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M67.9667 156.94L68.3918 156.684L156.379 68.5254L156.634 68.0995L178.312 34.8377L196.037 7.58089L135.636 47.0606L135.211 47.3588L47.2664 135.475L46.9689 135.901L7.56603 196.419L34.7697 178.66L67.9667 156.94Z\",\n  fill: \"url(#paint16_linear)\"\n});\n\nvar _ref19 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint0_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint1_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint2_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint3_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint4_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint5_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint6_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint7_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint8_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint9_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint10_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint11_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint12_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint13_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint14_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint15_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint16_linear\",\n  x1: 77.5,\n  y1: 145.5,\n  x2: 87,\n  y2: -0.0000013151,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"#003246\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.484375,\n  stopColor: \"#3D96A0\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#7DFFFF\"\n})));\n\nfunction SvgLogoGradient(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 1450 205\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoGradient);\nexport default __webpack_public_path__ + \"static/media/logo-gradient.a321f18b.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { useWallet } from \"../contexts/wallet\";\nimport { shortenAddress } from \"../utils/utils\";\n\nfunction CurrentUserBadge() {\n  const { wallet } = useWallet();\n\n  if (!wallet?.publicKey) {\n    return null;\n  }\n\n  return (\n    <>\n      <Button variant=\"outlined\" color=\"secondary\">\n        {shortenAddress(`${wallet.publicKey}`)}\n      </Button>\n    </>\n  );\n}\n\nexport function Connector() {\n  const { connected, select } = useWallet();\n  \n  return (\n    <>\n      {connected ? (\n        <CurrentUserBadge />\n      ) : (\n        <Button\n          variant=\"contained\"\n          onClick={select}\n        >\n          Connect wallet\n        </Button>\n      )}\n    </>\n  );\n}","import React from \"react\";\nimport { Button, MenuItem, Select } from \"@material-ui/core\";\nimport { ENDPOINTS, useConnectionConfig } from \"../contexts/connection\";\nimport { useWallet } from \"../contexts/wallet\";\n\nexport function AppSettings() {\n  const { connected, disconnect } = useWallet();\n  const { url, setUrl } = useConnectionConfig();\n\n  return (\n    <>\n      <Select\n        value={url}\n        onChange={e => setUrl(e.target.value as string)}\n        variant=\"outlined\"\n      >\n        {ENDPOINTS.map(({ name, url }) => (\n          <MenuItem value={url} key={url}>\n            {name}\n          </MenuItem>\n        ))}\n      </Select>\n      {connected && (\n        <Button onClick={disconnect}>\n          Disconnect\n        </Button>\n      )}\n    </>\n  );\n}","import { Connection, EpochInfo } from \"@solana/web3.js\";\n\nexport interface DashboardEpochInfo {\n  epochInfo: EpochInfo;\n  epochProgress: number;\n  epochTimeRemaining: number;\n}\n\nexport async function getDashboardEpochInfo(connection: Connection) : Promise<DashboardEpochInfo> {\n  // Inspired from explorer.solana.com DashboardInfo\n  const epochInfo = await connection.getEpochInfo();\n  const {slotIndex, slotsInEpoch} =  epochInfo;\n\n  const epochProgress = slotIndex / slotsInEpoch;\n\n  //const samples = await connection.getRecentPerformanceSamples(360);\n  const samples = [{samplePeriodSecs: 689, numSlots: 1000}] // Hardcoded until mystery above is solved\n  const timePerSlotSamples = samples\n    .filter((sample) => {\n      return sample.numSlots !== 0;\n    })\n    .slice(0, 60)\n    .map((sample) => {\n      return sample.samplePeriodSecs / sample.numSlots;\n    })\n\n  const samplesInHour = timePerSlotSamples.length < 60 ? timePerSlotSamples.length : 60;\n  const avgSlotTime_1h =\n    timePerSlotSamples.reduce((sum: number, cur: number) => {\n      return sum + cur;\n    }, 0) / samplesInHour;\n\n  const hourlySlotTime = Math.round(1000 * avgSlotTime_1h);\n  const epochTimeRemaining = (slotsInEpoch - slotIndex) * hourlySlotTime;\n\n  console.log(`epochProgress: ${epochProgress}, epochTimeRemaining: ${epochTimeRemaining}`);\n  return {\n    epochInfo,\n    epochProgress,\n    epochTimeRemaining,\n  };\n}","import { AccountInfo } from \"@solana/web3.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useConnection } from \"./connection\";\nimport { useWallet } from \"./wallet\";\n\nexport interface Accounts {\n  systemProgramAccountInfo: AccountInfo<Buffer> | null\n};\n\nexport const AccountsContext = React.createContext<Accounts>({systemProgramAccountInfo: null});\n\nexport function AccountsProvider({ children = null as any }) {\n  const connection = useConnection();\n  const { publicKey } = useWallet();\n\n  const [systemProgramAccountInfo, setSystemProgramAccountInfo] = useState<AccountInfo<Buffer> | null>(null);\n\n  useEffect(() => {\n    if(!publicKey) {\n      setSystemProgramAccountInfo(null);\n      return;\n    }\n    connection.getAccountInfo(publicKey)\n      .then(accountInfo => {\n        setSystemProgramAccountInfo(accountInfo);\n      });\n    const subscriptionId = connection.onAccountChange(publicKey, accountInfo => {\n      setSystemProgramAccountInfo(accountInfo);\n    });\n    return () => { connection.removeAccountChangeListener(subscriptionId) };\n  }, [connection, publicKey]);\n\n  return (\n    <AccountsContext.Provider\n      value={{\n        systemProgramAccountInfo,\n      }}\n    >\n      {children}\n    </AccountsContext.Provider>\n  );\n}\n","import { Button, CircularProgress, Dialog, DialogActions, DialogContent, DialogTitle, TextField, Typography } from \"@material-ui/core\";\nimport { Authorized, Connection, LAMPORTS_PER_SOL, PublicKey, StakeProgram } from \"@solana/web3.js\";\nimport { useState } from \"react\";\nimport { sendTransaction } from \"../contexts/connection\";\nimport { useMonitorTransaction } from \"../utils/notifications\";\nimport { WalletAdapter } from \"../wallet-adapters/walletAdapter\";\n\ninterface CreateStakeAccountProps {\n  seed: string;\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  wallet: WalletAdapter;\n  connection: Connection;\n  sendConnection: Connection;\n  onSuccess: () => void;\n};\n  \nexport function CreateStakeAccountDialog({seed, open, setOpen, wallet, connection, sendConnection, onSuccess}: CreateStakeAccountProps) {\n  const {monitorTransaction, sending} = useMonitorTransaction();\n\n  const [amount, setAmount] = useState<string>('');\n\n  function handleClose() {\n    setOpen(false);\n  }\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n    >\n      <DialogTitle>\n        Create stake account\n      </DialogTitle>\n      <DialogContent>\n        <Typography>\n          Seed: {seed}\n        </Typography>\n        <TextField\n          type=\"number\"\n          value={amount}\n          onChange={e => {\n            setAmount(e.target.value);\n          }}\n          placeholder=\"SOL\"\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose}>Close</Button>\n        <Button\n          disabled={sending}\n          onClick={async () => {\n            if(!wallet.publicKey) {\n              return;\n            }\n            const stakePubkey = await PublicKey.createWithSeed(\n              wallet.publicKey,\n              seed,\n              StakeProgram.programId,\n            );\n            const lamports = await connection.getMinimumBalanceForRentExemption(StakeProgram.space) + Number(amount) * LAMPORTS_PER_SOL;\n\n            const transaction = StakeProgram.createAccountWithSeed({\n              fromPubkey: wallet.publicKey,\n              stakePubkey,\n              basePubkey: wallet.publicKey,\n              seed,\n              authorized: new Authorized(\n                wallet.publicKey,\n                wallet.publicKey\n              ),\n              lamports\n            });\n\n            await monitorTransaction(\n              sendTransaction(\n                sendConnection,\n                wallet,\n                transaction.instructions,\n                []\n              ),\n              {\n                onSuccess: () => {\n                  onSuccess();\n                  handleClose();\n                },\n                onError: () => {}\n              }\n            );\n          }}\n        >\n          {sending ? <CircularProgress color=\"secondary\" size={14} /> : \"Create\"}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useContext, useEffect, useMemo, useState } from \"react\";\nimport { Card, CardContent, LinearProgress, Typography, TextField, Box, Divider, Tooltip, Button, Grid } from \"@material-ui/core\";\nimport { clusterApiUrl, Connection, LAMPORTS_PER_SOL, PublicKey } from \"@solana/web3.js\";\nimport { formatPct, formatPriceNumber, humanizeDuration } from \"../utils/utils\";\nimport { parsePriceData } from '@pythnetwork/client';\nimport { StakeAccountMeta } from \"../utils/stakeAccounts\";\nimport { DashboardEpochInfo, getDashboardEpochInfo } from \"../utils/epoch\";\nimport { AccountsContext } from \"../contexts/accounts\";\nimport { useConnection, useSendConnection } from \"../contexts/connection\";\nimport { useWallet } from \"../contexts/wallet\";\nimport { CreateStakeAccountDialog } from \"./CreateStakeAccount\";\nimport { STAKE_PROGRAM_ID } from \"../utils/ids\";\n\ninterface SummaryCardProps {\n  publicKeyString: string | undefined;\n  setPublicKeyString: (publicKeyString: string | undefined) => void;\n  setPublicKey: (publicKey: PublicKey | null) => void;\n  stakeAccountMetas: StakeAccountMeta[] | null;\n}\n\nasync function getSOLPriceUSD(): Promise<number | undefined> {\n  // TODO: Switch to mainnet when available\n  const connection = new Connection(clusterApiUrl('devnet'));\n\n  const SOLUSDPriceAccountKey = new PublicKey('J83w4HKfqxwcq3BEMMkPFSppX3gqekLyLJBexebFVkix');\n  const priceAccountInfo = await connection.getAccountInfo(SOLUSDPriceAccountKey);\n  if (!priceAccountInfo) {\n    return;\n  }\n  const { price, confidence } = parsePriceData(priceAccountInfo?.data);\n\n  console.log(`price: ${price}, confidence: ${confidence}`);\n  return price;\n}\n\nasync function findFirstAvailableSeed(userPublicKey: PublicKey, stakeAccountMetas: StakeAccountMeta[]) {\n  let seedIndex = 0;\n  while(1) {\n    const newStakeAccountPubkey = await PublicKey.createWithSeed(userPublicKey, seedIndex.toString(), STAKE_PROGRAM_ID);\n    const matching = stakeAccountMetas.find(meta => newStakeAccountPubkey.equals(meta.address));\n    if(!matching) {\n      break;\n    }\n    seedIndex++;\n  }\n\n  return seedIndex.toString();\n}\n\nexport function SummaryCard(props : SummaryCardProps) {\n  const connection = useConnection();\n  const sendConnection = useSendConnection();\n  const {wallet, connected} = useWallet();\n  const {publicKeyString, setPublicKeyString, setPublicKey, stakeAccountMetas} = props;\n  \n  const {systemProgramAccountInfo} = useContext(AccountsContext);\n  const [errorInfo, setErrorInfo] = useState<string | null>(null);\n  const [SOLPriceUSD, setSOLPriceUSD] = useState<number>();\n  const [dashboardEpochInfo, setDashboardEpochInfo] = useState<DashboardEpochInfo | null>();\n  const [seed, setSeed] = useState('0');\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    setDashboardEpochInfo(null);\n    async function update() {\n      setDashboardEpochInfo(\n        await getDashboardEpochInfo(connection)\n      );\n    }\n    update();\n\n    const id = setInterval(update, 30000)\n    return () => clearInterval(id);\n  }, [connection]);\n\n  useEffect(() => {\n    getSOLPriceUSD()\n      .then(setSOLPriceUSD);\n  }, []);\n\n  useEffect(() => {\n    setErrorInfo(null);\n    if(!publicKeyString) {\n      setPublicKey(null);\n      return;\n    }\n\n    try {\n      setPublicKey(new PublicKey(publicKeyString));\n    }\n    catch {\n      console.log(`${publicKeyString} is not a valid PublicKey input`);\n\n      setErrorInfo('Invalid public key');\n      setPublicKey(null);\n    }\n  }, [publicKeyString, setPublicKey]);\n\n  const totalStakedSOL = useMemo(() => {\n    const totalLamports = stakeAccountMetas?.reduce((sum, current) => sum + current.lamports, 0);\n    return totalLamports ? totalLamports / LAMPORTS_PER_SOL: 0;\n  }, [stakeAccountMetas]);\n\n  // Yield first seed sequentially from unused seeds\n  useEffect(() => {\n    if(!stakeAccountMetas || !wallet?.publicKey) {\n      return;\n    }\n\n    findFirstAvailableSeed(wallet.publicKey, stakeAccountMetas)\n      .then(setSeed);\n  }, [wallet?.publicKey, stakeAccountMetas]);\n\n  return (\n    <Card>\n      <CardContent>\n        <div>\n          <Typography variant=\"h5\">\n            Epoch {dashboardEpochInfo?.epochInfo.epoch}\n          </Typography>\n          <Typography>\n            ETA {dashboardEpochInfo?.epochTimeRemaining && humanizeDuration.humanize(dashboardEpochInfo?.epochTimeRemaining)}\n          </Typography>\n          <Typography>\n            {dashboardEpochInfo?.epochProgress && formatPct.format(dashboardEpochInfo?.epochProgress)}\n          </Typography>\n          <LinearProgress\n            style={{height: 10, borderRadius: 5}}\n            color=\"secondary\"\n            variant=\"determinate\"\n            value={(dashboardEpochInfo?.epochProgress ?? 0) * 100}\n          />\n        </div>\n\n        <Box m={2}></Box>\n\n        {!connected && (\n          <TextField\n            id=\"standard-basic\"\n            fullWidth={true}\n            label=\"Wallet account public key (stake authority)\"\n            placeholder=\"Public key\"\n            InputLabelProps={{\n              shrink: true\n            }}\n            value={publicKeyString}\n            error={errorInfo !== null}\n            helperText={errorInfo}\n            onChange={(e) => {\n              setPublicKeyString(e.target.value);\n            }}\n          />\n        )}\n        <Divider />\n\n        <Box m={2}></Box>\n\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"space-between\"\n          alignItems=\"center\"\n        >\n          <Grid item xs>\n            {stakeAccountMetas && (\n              <>\n                <Typography>\n                  Total staked\n                </Typography>\n                <Typography>\n                ≈{formatPriceNumber.format(totalStakedSOL)} SOL ({SOLPriceUSD && formatPriceNumber.format(totalStakedSOL * SOLPriceUSD)} USD)\n                </Typography>\n              </>\n            )}\n            <Typography>\n              SOL {SOLPriceUSD ? formatPriceNumber.format(SOLPriceUSD) : '-'} $&nbsp;\n              <Tooltip title=\"On-chain SOL price from pyth.network oracle\">\n                <img style={{display: 'inline', verticalAlign: 'middle'}} height=\"25px\" src=\"pyth-icon-48x48.png\" alt=\"PythNetwork\" />\n              </Tooltip>\n            </Typography>\n          </Grid>\n\n          <Grid item xs></Grid>\n\n          {(wallet && systemProgramAccountInfo) && (\n            <Grid item xs style={{textAlign: 'right'}}>\n              <Typography>\n                Account balance\n              </Typography>\n              <Typography>\n                {systemProgramAccountInfo.lamports / LAMPORTS_PER_SOL} SOL\n              </Typography>\n              <Button\n                variant=\"outlined\"\n                onClick={() => setOpen(true)}\n              >\n                Create stake account\n              </Button>\n              { open &&\n                <CreateStakeAccountDialog\n                  seed={seed}\n                  open={open}\n                  setOpen={setOpen}\n                  connection={connection}\n                  sendConnection={sendConnection}\n                  wallet={wallet}\n                  onSuccess={async () => {\n                  }}\n                />\n              }\n\n            </Grid>\n          )}\n        </Grid>\n      </CardContent>\n    </Card>\n  );\n}","import { Dialog, Box, Button, DialogActions, DialogContent, DialogTitle, Typography, Link } from \"@material-ui/core\";\n\n\nexport default function HelpDialog(props: {open: boolean, handleClose: () => void}) {\n  const {open, handleClose} = props;\n\n  return (\n    <Dialog\n    fullWidth={true}\n    open={open}\n    onClose={handleClose}\n  >\n    <DialogTitle>\n      <Typography variant=\"h4\">\n        How to use solstake?\n      </Typography>\n    </DialogTitle>\n\n    <DialogContent>\n      <Box m={1}>\n        <Typography>\n          Enter you wallet public key (Stake account authority) or connect your wallet to view your stake accounts, balances, rewards and much more\n        </Typography>\n        <Typography>\n          For in-depth staking documentation about solana staking head to <Link color=\"secondary\" href=\"https://docs.solana.com/staking\" target=\"_blank\">Solana staking documentation</Link>\n        </Typography>\n\n        <Box m={2} />\n\n        <Typography variant=\"h5\">\n          Coming soon\n        </Typography>\n        <Typography>\n          Create stake accounts, delegate to validators, unstake, reward overview... All from any popular wallet: solflare, sollet, phantom, ledger... \n        </Typography>\n\n        <Box m={2} />\n        \n        <Typography>\n          We'd love to hear from you - please send any feedback or suggestions to solstakeio@gmail.com\n        </Typography>\n      </Box>\n    </DialogContent>\n\n    <DialogActions>\n      <Button onClick={handleClose} color=\"primary\">\n        Close\n      </Button>\n    </DialogActions>\n  </Dialog>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport '../App.css';\nimport { AppBar, Box, Button, Card, CardContent, CircularProgress, Container, IconButton, Toolbar, Tooltip, Typography } from '@material-ui/core';\nimport { PublicKey } from '@solana/web3.js';\nimport {\n  Link as RouterLink\n} from 'react-router-dom';\nimport { accounInfoToStakeAccount as accountInfoToStakeAccount, findStakeAccountMetas, sortStakeAccountMetas, StakeAccountMeta } from '../utils/stakeAccounts';\nimport { StakeAccountCard } from '../components/StakeAccount';\nimport { ReactComponent as SolstakeLogoSvg } from '../assets/logo-gradient.svg';\nimport { Info } from '@material-ui/icons';\nimport { Connector } from '../components/Connector';\nimport { useWallet } from '../contexts/wallet';\nimport { AppSettings } from '../components/AppSettings';\nimport { ENDPOINTS, useConnection, useConnectionConfig } from '../contexts/connection';\nimport { SummaryCard } from '../components/SummaryCard';\nimport HelpDialog from '../components/HelpDialog';\nimport { STAKE_PROGRAM_ID } from '../utils/ids';\n\nconst DEMO_PUBLIC_KEY_STRING = '8BaNJXqMAEVrV7cgzEjW66G589ZmDvwajmJ7t32WpvxW';\n\nfunction StakeAccounts({stakeAccountMetas}: {stakeAccountMetas: StakeAccountMeta[]}) {\n  if (stakeAccountMetas.length === 0) {\n    return (\n      <Box m={1}>\n        <Card>\n          <CardContent>\n            <Typography>\n              No stake account found\n            </Typography>\n          </CardContent>\n        </Card>\n      </Box>\n    );\n  }\n\n  return (\n    <>\n      {stakeAccountMetas.map(\n        meta => (<StakeAccountCard key={meta.address.toBase58()} stakeAccountMeta={meta} />))\n      }\n    </>\n  );\n}\n\nfunction DApp() {\n  const connection = useConnection();\n  const { setUrl } = useConnectionConfig();\n  const { wallet, connected, disconnect } = useWallet();\n  const [publicKeyString, setPublicKeyString] = useState<string>();\n  const [publicKey, setPublicKey] = useState<PublicKey | null>(null);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [stakeAccounts, setStakeAccounts] = useState<StakeAccountMeta[] | null>(null);\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    setStakeAccounts(null);\n    const newPublicKey = connected ? wallet?.publicKey : publicKey;\n    if (newPublicKey) {\n      setLoading(true);\n      findStakeAccountMetas(connection, newPublicKey)\n        .then(newStakeAccounts => {\n          setStakeAccounts(newStakeAccounts);\n          setLoading(false);\n        });\n    }\n  }, [connection, connected, wallet?.publicKey, publicKey]);\n\n  useEffect(() => {\n    if (!wallet?.publicKey) {\n      return;\n    }\n    let walletPublicKey = wallet.publicKey;\n\n    const subscriptionId = connection.onProgramAccountChange(STAKE_PROGRAM_ID, async ({accountId, accountInfo}) => {\n      console.log(`StakeAccount update for ${accountId.toBase58()}`);\n      const index = stakeAccounts?.findIndex(extistingStakeAccountMeta => \n        extistingStakeAccountMeta.address.equals(accountId)\n      ) ?? -1;\n      let updatedStakeAccounts = stakeAccounts ? [...stakeAccounts] : [];\n\n      // Ideally we should just subscribe as jsonParsed, but that isn't available through web3.js\n      const parsedAccountInfo = (await connection.getParsedAccountInfo(accountId)).value;\n      console.log(accountInfo.lamports, accountInfo.data, accountInfo.owner.toBase58());\n      if (!parsedAccountInfo) {\n        // It should be impossible to reach this scenario since we listen for specific data, it has to exist\n        console.log(`${accountId.toBase58()} does not exist`);\n        return;\n      }\n      const newStakeAccount = accountInfoToStakeAccount(parsedAccountInfo);\n      if (!newStakeAccount) {\n        console.log(`Could no find parsed data: ${accountId.toBase58()}`);\n        return;\n      }\n\n      if (index === -1) {\n        console.log(`Could not find existing stake account for address, adding: ${stakeAccounts?.length} ${newStakeAccount}`);\n        const naturalStakeAccountSeedPubkeys = await Promise.all(Array.from(Array(20).keys()).map(async i => {\n          const seed = `${i}`;\n          return PublicKey.createWithSeed(walletPublicKey, seed, STAKE_PROGRAM_ID).then(pubkey => ({seed, pubkey}));\n        }));\n\n        const seed = naturalStakeAccountSeedPubkeys.find(element => element.pubkey.equals(accountId))?.seed ?? 'N.A.';\n        updatedStakeAccounts.push({\n          address: accountId,\n          seed,\n          lamports: parsedAccountInfo.lamports,\n          stakeAccount: newStakeAccount,\n          inflationRewards: [] // In 99.999% of cases this should be correct\n        });\n      }\n      else {\n        updatedStakeAccounts[index].stakeAccount = newStakeAccount;\n      }\n\n      sortStakeAccountMetas(updatedStakeAccounts);\n      setStakeAccounts(updatedStakeAccounts);\n    },\n    connection.commitment,\n    [{\n      memcmp: {\n        offset: 12,\n        bytes: wallet.publicKey.toBase58()\n      }\n    }]);\n\n    return () => {\n      connection.removeProgramAccountChangeListener(subscriptionId);\n    };\n  }, [connection, wallet, stakeAccounts]);\n\n  // Unfortunately we need to listen \n  useEffect(() => {\n    const subscriptionIds = stakeAccounts?.map(stakeAccountMeta => {\n      return connection.onAccountChange(stakeAccountMeta.address, async () => {\n        console.log(`StakeAccount update for ${stakeAccountMeta.address.toBase58()}`);\n        const index = stakeAccounts?.findIndex(extistingStakeAccountMeta => \n          extistingStakeAccountMeta.address.equals(stakeAccountMeta.address)\n        );\n        const parsedAccountInfo = (await connection.getParsedAccountInfo(stakeAccountMeta.address)).value;\n        if (!parsedAccountInfo) {\n          // The account can no longer be found, it has been closed\n          if (index > -1) {\n            let updatedStakeAccounts = [...stakeAccounts];\n            updatedStakeAccounts.splice(index, 1);\n            setStakeAccounts (updatedStakeAccounts);\n          }\n          return;\n        }\n      });\n    });\n\n    // Necessary subscription cleanup\n    return () => {\n      subscriptionIds?.forEach(id => {\n        connection.removeAccountChangeListener(id);\n      })\n    };\n  }, [connection, stakeAccounts]);\n  \n  return (\n    <div id=\"dapp\">\n      <AppBar position=\"relative\">\n        <Toolbar>\n            <RouterLink to=\"/\" style={{width: '15%'}}>\n              <Box m={1}>\n                <SolstakeLogoSvg className=\"App-logo\" />\n              </Box>\n            </RouterLink>\n            <div style={{flexGrow: 1}}></div>\n            <div style={{display: 'flex', gap: '10px', padding: '5px'}}>\n              <IconButton onClick={() => { setOpen(true); }}>\n                <Info />\n              </IconButton>\n              <Tooltip title=\"Use known stake account authority\">\n                <Button\n                  variant=\"contained\"\n                  onClick={() => {\n                    disconnect();\n                    setUrl(ENDPOINTS[0].url);\n                    setPublicKeyString(DEMO_PUBLIC_KEY_STRING);\n                  }}\n                >\n                  Demo\n                </Button>\n              </Tooltip>\n              <Connector />\n              <AppSettings />\n            </div>\n        </Toolbar>\n      </AppBar>\n      <Box m={1} />\n      <Container maxWidth=\"md\">\n        <SummaryCard\n          publicKeyString={publicKeyString}\n          setPublicKeyString={setPublicKeyString}\n          setPublicKey={setPublicKey}\n          stakeAccountMetas={stakeAccounts}\n        />\n        <Container>\n          {loading && (\n            <Box m={1}>\n              <div style={{display: 'flex', justifyContent: 'center'}}>\n                <CircularProgress />\n              </div>\n            </Box>\n          )}\n          {stakeAccounts && (\n            <StakeAccounts stakeAccountMetas={stakeAccounts} />\n          )}\n        </Container>\n      </Container>\n\n      <Box m=\"1\">\n        <br />\n      </Box>\n\n      <HelpDialog\n        open={open}\n        handleClose={() => setOpen(false)}\n      />\n    </div>\n  );\n}\n\nexport default DApp;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M381.957 73.2101C382.255 72.0602 382.425 71.0381 382.425 70.1011C382.425 66.3959 380.002 64.5646 375.156 64.5646H291.122C280.453 64.5646 270.55 67.631 261.368 73.7637C252.187 79.8965 246.449 87.307 244.154 95.9525C243.473 98.4226 243.176 100.808 243.176 103.065C243.176 108.772 245.301 113.797 249.552 118.184C255.418 124.317 263.706 127.383 274.333 127.383H328.825C331.97 127.383 334.436 128.277 336.179 130.109C337.369 131.429 338.006 132.962 338.006 134.666C338.006 135.39 337.879 136.156 337.624 136.923C336.901 139.606 335.201 141.863 332.481 143.694C329.803 145.568 326.87 146.463 323.724 146.463H239.69C233.655 146.463 229.829 149.359 228.256 155.108L227.066 159.665C226.769 160.815 226.599 161.837 226.599 162.774C226.599 166.479 229.021 168.311 233.867 168.311H317.901C328.57 168.311 338.474 165.244 347.655 159.112C356.836 152.979 362.575 145.568 364.87 136.923C365.55 134.495 365.89 132.153 365.89 129.896C365.89 124.189 363.765 119.121 359.514 114.692C353.648 108.559 345.36 105.492 334.733 105.492H280.198C277.053 105.492 274.63 104.555 272.93 102.681C271.655 101.404 271.017 99.9132 271.017 98.2097C271.017 97.4857 271.145 96.7191 271.4 95.9525C272.08 93.2694 273.78 91.0122 276.5 89.1809C279.221 87.3495 282.154 86.4126 285.299 86.4126H369.333C375.369 86.4126 379.152 83.5166 380.682 77.7671L381.957 73.2101Z\",\n  fill: \"white\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M520.569 94.4193C520.569 87.3921 517.891 81.1742 512.578 75.7654C505.267 68.3124 495.023 64.5646 481.888 64.5646H445.546C432.412 64.5646 420.17 68.3124 408.863 75.7654C397.557 83.2184 390.501 92.2472 387.696 102.809L380.342 130.109C379.534 133.005 379.152 135.816 379.152 138.499C379.152 145.526 381.83 151.744 387.143 157.152C394.454 164.606 404.698 168.353 417.832 168.353H454.175C467.309 168.353 479.551 164.606 490.857 157.152C502.164 149.699 509.22 140.671 512.025 130.109L519.379 102.809C520.186 99.8706 520.569 97.1024 520.569 94.4193ZM492.132 102.809L484.779 130.109C483.546 134.666 480.571 138.541 475.725 141.693C470.922 144.887 465.651 146.463 459.955 146.463H423.613C417.917 146.463 413.539 144.844 410.436 141.65C408.141 139.393 406.993 136.752 406.993 133.729C406.993 132.579 407.163 131.344 407.546 130.109L414.899 102.809C416.089 98.2523 419.107 94.3767 423.953 91.2251C428.756 88.031 434.027 86.4552 439.723 86.4552H476.065C481.761 86.4552 486.181 88.031 489.327 91.1825C491.58 93.4823 492.685 96.1654 492.685 99.1892C492.685 100.297 492.472 101.532 492.132 102.809Z\",\n  fill: \"white\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M575.869 42.8017C575.869 39.0965 573.446 37.2651 568.6 37.2651H559.504C553.468 37.2651 549.643 40.1612 548.155 45.9106L517.721 159.665C517.423 160.815 517.253 161.837 517.253 162.774C517.253 166.479 519.676 168.311 524.522 168.311H533.618C539.654 168.311 543.48 165.415 544.967 159.665L575.401 45.9106C575.741 44.7608 575.869 43.7386 575.869 42.8017Z\",\n  fill: \"white\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M720.941 73.2101C721.238 72.0602 721.408 71.0381 721.408 70.1011C721.408 66.3959 718.985 64.5646 714.14 64.5646H630.106C619.437 64.5646 609.533 67.631 600.352 73.7637C591.171 79.8965 585.432 87.307 583.137 95.9525C582.457 98.4226 582.159 100.808 582.159 103.065C582.159 108.772 584.285 113.797 588.535 118.184C594.401 124.317 602.69 127.383 613.316 127.383H667.809C670.954 127.383 673.419 128.277 675.162 130.109C676.352 131.429 676.99 132.962 676.99 134.666C676.99 135.39 676.862 136.156 676.607 136.923C675.885 139.606 674.184 141.863 671.464 143.694C668.786 145.568 665.853 146.463 662.708 146.463H578.674C572.638 146.463 568.812 149.359 567.24 155.108L566.05 159.665C565.752 160.815 565.582 161.837 565.582 162.774C565.582 166.479 568.005 168.311 572.851 168.311H656.884C667.553 168.311 677.457 165.244 686.639 159.112C695.82 152.979 701.558 145.568 703.853 136.923C704.533 134.495 704.831 132.153 704.831 129.896C704.831 124.189 702.706 119.121 698.455 114.692C692.589 108.559 684.301 105.492 673.674 105.492H619.182C616.036 105.492 613.614 104.555 611.913 102.681C610.638 101.404 610.001 99.9132 610.001 98.2097C610.001 97.4857 610.128 96.7191 610.383 95.9525C611.063 93.2694 612.763 91.0122 615.484 89.1809C618.204 87.3495 621.137 86.4126 624.283 86.4126H708.317C714.352 86.4126 718.178 83.5166 719.666 77.7671L720.941 73.2101Z\",\n  fill: \"white\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M758.261 86.4125H780.959C786.995 86.4125 790.821 83.5165 792.308 77.767L793.584 73.21C793.881 72.0601 794.051 71.038 794.051 70.101C794.051 66.3958 791.628 64.5645 786.783 64.5645H764.084L769.1 45.9106C769.398 44.7608 769.568 43.7386 769.568 42.8017C769.568 39.0965 767.145 37.2651 762.299 37.2651H753.203C747.167 37.2651 743.342 40.1612 741.854 45.9106L719.326 130.109C718.561 133.005 718.136 135.815 718.136 138.499C718.136 145.526 720.814 151.744 726.127 157.152C733.438 164.605 743.682 168.353 756.816 168.353H759.069C765.105 168.353 768.93 165.457 770.418 159.708L771.608 155.151C771.906 153.916 772.076 152.894 772.076 151.957C772.076 148.337 769.695 146.505 764.892 146.505H762.639C756.944 146.505 752.565 144.887 749.463 141.693C747.167 139.435 746.02 136.795 746.02 133.771C746.02 132.621 746.19 131.386 746.572 130.151L758.261 86.4125Z\",\n  fill: \"white\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M932.237 94.4193C932.237 87.3921 929.56 81.1742 924.246 75.7654C916.935 68.3124 906.692 64.5646 893.557 64.5646H818.62C812.584 64.5646 808.758 67.4606 807.271 73.2101L805.995 77.7671C805.698 78.917 805.528 79.9391 805.528 80.8761C805.528 84.5813 807.951 86.4126 812.796 86.4126H887.734C893.43 86.4126 897.85 87.9884 900.996 91.1399C903.249 93.4397 904.354 96.1228 904.354 99.1466C904.354 100.297 904.184 101.532 903.801 102.767L903.079 105.492H837.237C826.568 105.492 816.664 108.559 807.441 114.692C798.217 120.824 792.478 128.235 790.183 136.88C789.503 139.308 789.163 141.65 789.163 143.907C789.163 149.614 791.331 154.682 795.624 159.112C801.49 165.244 809.778 168.311 820.405 168.311H865.843C878.978 168.311 891.219 164.563 902.526 157.11C913.832 149.657 920.888 140.628 923.694 130.066L931.047 102.767C931.812 99.8706 932.237 97.1024 932.237 94.4193ZM896.448 130.109C895.215 134.666 892.24 138.541 887.394 141.693C882.548 144.844 877.32 146.463 871.624 146.463H826.186C823.04 146.463 820.617 145.526 818.917 143.652C817.642 142.374 817.004 140.884 817.004 139.18C817.004 138.456 817.132 137.689 817.387 136.923C818.11 134.24 819.81 131.983 822.53 130.151C825.25 128.32 828.141 127.383 831.286 127.383H897.128L896.448 130.109Z\",\n  fill: \"white\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1084.28 73.21C1084.58 72.0601 1084.75 71.038 1084.75 70.101C1084.75 66.3958 1082.33 64.5645 1077.48 64.5645H1072.93C1069.53 64.5645 1063.5 66.1403 1054.78 69.2919L973.553 96.5061L987.07 45.9106C987.367 44.7608 987.537 43.7386 987.537 42.8017C987.537 39.0965 985.115 37.2651 980.269 37.2651H971.173C965.137 37.2651 961.311 40.1612 959.824 45.9106L929.389 159.665C929.092 160.815 928.922 161.837 928.922 162.774C928.922 166.479 931.345 168.311 936.19 168.311H945.287C951.322 168.311 955.148 165.415 956.636 159.665L962.884 136.369L1029.58 163.583C1036.59 166.735 1041.82 168.311 1045.22 168.311H1049.77C1055.8 168.311 1059.63 165.415 1061.11 159.58C1061.37 158.728 1061.5 157.962 1061.5 157.195C1061.5 154.725 1060.22 152.723 1057.67 151.19L978.484 116.438L1076.33 81.6C1080.58 79.7261 1083.26 76.9152 1084.28 73.21Z\",\n  fill: \"white\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1110.63 127.383H1176.48C1187.14 127.383 1197.05 124.317 1206.23 118.184C1215.41 112.051 1221.19 104.641 1223.53 95.9951C1224.21 93.5675 1224.51 91.2251 1224.51 88.9679C1224.51 83.261 1222.38 78.193 1218.13 73.7637C1212.18 67.631 1203.89 64.5646 1193.22 64.5646H1147.83C1134.69 64.5646 1122.45 68.3124 1111.14 75.7654C1099.84 83.2184 1092.78 92.2472 1089.98 102.809L1082.62 130.109C1081.86 133.005 1081.43 135.816 1081.43 138.499C1081.43 145.526 1084.11 151.744 1089.42 157.152C1096.73 164.606 1106.98 168.353 1120.11 168.353H1195.05C1201.09 168.353 1204.91 165.457 1206.4 159.708L1207.59 155.151C1207.89 153.916 1208.06 152.894 1208.06 151.957C1208.06 148.337 1205.68 146.505 1200.87 146.505H1125.98C1120.28 146.505 1115.9 144.887 1112.8 141.693C1110.51 139.436 1109.36 136.795 1109.36 133.771C1109.36 132.621 1109.53 131.386 1109.91 130.151L1110.63 127.383ZM1117.27 102.809C1118.5 98.2523 1121.47 94.3767 1126.32 91.2251C1131.12 88.031 1136.39 86.4552 1142.09 86.4552H1187.53C1190.67 86.4552 1193.1 87.3495 1194.8 89.1809C1195.99 90.5011 1196.62 92.0769 1196.62 93.823C1196.62 94.547 1196.54 95.2711 1196.37 95.9951C1195.65 98.6782 1193.95 100.935 1191.23 102.767C1188.5 104.598 1185.61 105.535 1182.47 105.535H1116.63L1117.27 102.809Z\",\n  fill: \"white\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1241.81 146.463H1232.71C1226.67 146.463 1222.85 149.359 1221.28 155.108L1220.09 159.665C1219.79 160.815 1219.62 161.837 1219.62 162.774C1219.62 166.479 1222.04 168.311 1226.89 168.311H1235.98C1242.02 168.311 1245.85 165.415 1247.33 159.665L1248.52 155.108C1248.82 153.873 1248.99 152.851 1248.99 151.914C1248.99 148.294 1246.57 146.463 1241.81 146.463Z\",\n  fill: \"white\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1311.81 70.1437C1311.81 66.4385 1309.39 64.6072 1304.55 64.6072H1295.45C1289.41 64.6072 1285.59 67.5032 1284.1 73.2527L1260.93 159.708C1260.64 160.858 1260.47 161.88 1260.47 162.817C1260.47 166.522 1262.89 168.353 1267.74 168.353H1276.83C1282.87 168.353 1286.69 165.457 1288.18 159.708L1311.35 73.2527C1311.69 72.0602 1311.81 71.0381 1311.81 70.1437Z\",\n  fill: \"white\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1296.94 59.1131H1306.03C1312.07 59.1131 1315.89 56.2171 1317.47 50.4676L1318.66 45.9106C1318.95 44.7607 1319.12 43.7386 1319.12 42.8017C1319.12 39.0965 1316.7 37.2651 1311.86 37.2651H1302.76C1296.72 37.2651 1292.9 40.1612 1291.41 45.9106L1290.22 50.4676C1289.92 51.7027 1289.75 52.7248 1289.75 53.6618C1289.75 57.2818 1292.13 59.1131 1296.94 59.1131Z\",\n  fill: \"white\"\n});\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1442.01 75.7654C1434.7 68.3124 1424.45 64.5646 1411.32 64.5646H1374.98C1361.84 64.5646 1349.6 68.3124 1338.3 75.7654C1326.99 83.2184 1319.93 92.2472 1317.13 102.809L1309.77 130.109C1309.01 133.005 1308.58 135.816 1308.58 138.499C1308.58 145.526 1311.26 151.744 1316.57 157.152C1323.89 164.606 1334.13 168.353 1347.26 168.353H1383.61C1396.74 168.353 1408.98 164.606 1420.29 157.152C1431.6 149.699 1438.65 140.671 1441.46 130.109L1448.81 102.809C1449.58 99.9132 1450 97.1024 1450 94.4193C1450 87.3921 1447.32 81.1742 1442.01 75.7654ZM1421.56 102.809L1414.21 130.109C1412.98 134.666 1410 138.541 1405.16 141.693C1400.31 144.844 1395.08 146.463 1389.39 146.463H1353.04C1347.35 146.463 1342.97 144.844 1339.87 141.65C1337.57 139.393 1336.42 136.752 1336.42 133.729C1336.42 132.579 1336.59 131.344 1336.98 130.109L1344.33 102.809C1345.56 98.2523 1348.54 94.3767 1353.38 91.2251C1358.19 88.031 1363.46 86.4552 1369.15 86.4552H1405.5C1411.19 86.4552 1415.61 88.031 1418.76 91.1825C1421.01 93.4823 1422.12 96.1654 1422.12 99.1892C1422.12 100.297 1421.9 101.532 1421.56 102.809Z\",\n  fill: \"white\"\n});\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M29.7966 137.775C24.4408 127 21.4229 114.862 21.4229 102C21.4229 57.58 57.5103 21.4221 101.844 21.4221C114.681 21.4221 126.795 24.4459 137.549 29.8121L157.611 16.6948C141.544 6.17537 122.374 0 101.801 0C45.6512 0 0 45.7403 0 102C0 122.613 6.16334 141.82 16.7048 157.876L29.7966 137.775Z\",\n  fill: \"white\"\n});\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M186.898 46.1234L173.806 66.2253C179.162 77.0002 182.18 89.138 182.18 102C182.18 146.42 146.092 182.578 101.759 182.578C88.9221 182.578 76.8079 179.554 66.0539 174.188L45.9912 187.305C62.0159 197.867 81.186 204.042 101.759 204.042C157.909 204.042 203.56 158.302 203.56 102.042C203.603 81.3869 197.439 62.1794 186.898 46.1234Z\",\n  fill: \"white\"\n});\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M80.9312 163.072C87.477 165.33 94.4905 166.565 101.801 166.565C137.379 166.565 166.24 137.647 166.24 102C166.24 94.6749 165.008 87.6478 162.755 81.0891L80.9312 163.072Z\",\n  fill: \"white\"\n});\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M37.4053 102C37.4053 109.325 38.6379 116.353 40.8907 122.911L122.714 40.9279C116.168 38.6707 109.155 37.4357 101.844 37.4357C66.2242 37.4783 37.4053 66.3534 37.4053 102Z\",\n  fill: \"white\"\n});\n\nvar _ref18 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M67.9666 156.94L68.3917 156.684L156.379 68.5254L156.634 68.0995L166.07 53.6193L178.312 34.8377L196.037 7.58093L168.875 25.3404L150.088 37.606L135.636 47.0607L135.211 47.3588L47.2663 135.475L46.9688 135.901L37.5325 150.381L25.2908 169.205L7.56592 196.419L34.7696 178.66L53.5147 166.394L67.9666 156.94Z\",\n  fill: \"white\"\n});\n\nfunction SvgLogoWhite(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 1450 205\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoWhite);\nexport default __webpack_public_path__ + \"static/media/logo-white.3c891f2a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M297.216 243.2c0 15.616-11.52 28.416-26.112 28.416-14.336 0-26.112-12.8-26.112-28.416s11.52-28.416 26.112-28.416c14.592 0 26.112 12.8 26.112 28.416zm-119.552-28.416c-14.592 0-26.112 12.8-26.112 28.416s11.776 28.416 26.112 28.416c14.592 0 26.112-12.8 26.112-28.416.256-15.616-11.52-28.416-26.112-28.416zM448 52.736V512c-64.494-56.994-43.868-38.128-118.784-107.776l13.568 47.36H52.48C23.552 451.584 0 428.032 0 398.848V52.736C0 23.552 23.552 0 52.48 0h343.04C424.448 0 448 23.552 448 52.736zm-72.96 242.688c0-82.432-36.864-149.248-36.864-149.248-36.864-27.648-71.936-26.88-71.936-26.88l-3.584 4.096c43.52 13.312 63.744 32.512 63.744 32.512-60.811-33.329-132.244-33.335-191.232-7.424-9.472 4.352-15.104 7.424-15.104 7.424s21.248-20.224 67.328-33.536l-2.56-3.072s-35.072-.768-71.936 26.88c0 0-36.864 66.816-36.864 149.248 0 0 21.504 37.12 78.08 38.912 0 0 9.472-11.52 17.152-21.248-32.512-9.728-44.8-30.208-44.8-30.208 3.766 2.636 9.976 6.053 10.496 6.4 43.21 24.198 104.588 32.126 159.744 8.96 8.96-3.328 18.944-8.192 29.44-15.104 0 0-12.8 20.992-46.336 30.464 7.68 9.728 16.896 20.736 16.896 20.736 56.576-1.792 78.336-38.912 78.336-38.912z\"\n});\n\nfunction SvgDiscordBrands(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fab\",\n    \"data-icon\": \"discord\",\n    className: \"svg-inline--fa fa-discord fa-w-14\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDiscordBrands);\nexport default __webpack_public_path__ + \"static/media/discord-brands.a6bf2a68.svg\";\nexport { ForwardRef as ReactComponent };","export function validateEmail(email: string): boolean {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\nexport async function submitEmail(email: string) {\n  try {\n    const response = await fetch(\n    'https://hooks.zapier.com/hooks/catch/1602339/bob62i2/',\n    {\n        method: 'POST',\n        // https://zapier.com/help/create/code-webhooks/troubleshoot-webhooks-in-zapier#posting-json-from-web-browser-access-control-allow-headers-in-preflight-response-error\n        body: JSON.stringify({\n        'email': email\n        })\n    }\n    );\n\n    console.log(response);\n    return response.ok;\n  }\n  catch(TypeError) { // TypeError: NetworkError when attempting to fetch resource.\n    return false;\n  }\n}","import React, { useState } from 'react';\nimport '../App.css';\n//import '../Stars.sass';\nimport {\n  Link\n} from 'react-router-dom';\nimport { Box, Button, TextField, Typography, IconButton, Grid, Dialog, DialogTitle, DialogActions, DialogContent, makeStyles, Theme, createStyles, Snackbar, SvgIcon } from '@material-ui/core';\nimport { ReactComponent as SolstakeLogoMainSvg } from '../assets/logo-white.svg';\nimport { GitHub, Send, Twitter, YouTube } from '@material-ui/icons';\nimport { ReactComponent as Discord } from '../assets/discord-brands.svg';\nimport { validateEmail } from '../utils/email';\nimport { Alert } from '@material-ui/lab';\nimport { Color } from '@material-ui/lab/Alert';\nimport { submitEmail } from '../utils/email';\n\nconst styles = {\n  largeIcon: {\n    fontSize: \"2.5em\"\n  },\n};\n\nfunction SendButton(props: {callback: () => Promise<void>, disabled: boolean}) {\n  return (\n    <Button\n      onClick={props.callback}\n      disabled={props.disabled}\n    >\n      <Send />\n    </Button>\n  );\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1\n    },\n  }),\n);\n\ninterface Message {\n  open: boolean;\n  content: string;\n  severity: Color;\n};\n\nexport function Landing() {\n    const [email, setEmail] = useState('');\n    const [isEmailValid, setIsEmailValid] = useState(false);\n    const [message, setMessage] = useState<Message>({open: false, content: '', severity: 'success'});\n    const [open, setOpen] = useState(false);\n    const [openVideo, setOpenVideo] = useState(false);\n  \n    function handleClose() {\n      setOpen(false);\n    }\n\n    function handleCloseVideo() {\n      setOpenVideo(false);\n    }\n\n    function handleCloseSnackbar() {\n      setMessage({open: false, content: '', severity: 'success'});\n    }\n\n    async function submitAndFeedback() {\n      if (email) {\n        const success = await submitEmail(email);\n        if (success) {\n          setEmail('');\n          setMessage({open: true, content: 'Your email has been sent, we will get back to you when solstake is released', severity: 'success'});\n        }\n        else {\n          setMessage({open: true, content: 'Failed to send email, please try again later', severity: 'error'});\n        }\n      }\n    }\n\n    const classes = useStyles();\n  \n    return (\n      <div id=\"landing\">\n        <div className={classes.root}>\n          <Grid\n            container\n            alignItems=\"center\"\n            justify=\"center\"\n            direction=\"column\"\n            style={{minHeight: '100vh', textAlign: 'center', overflow: 'hidden'}}\n          >\n            <Grid item xs={8}>\n              <SolstakeLogoMainSvg />\n              <Typography style={{visibility: 'hidden'}}>\n                Hack for non working svg scaling SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS\n              </Typography>\n              <Typography color=\"primary\" variant=\"h4\">\n                Solstake makes staking on Solana easier than ever - no matter what wallet you’re using. \n                Stake your SOL, manage accounts and earn rewards all in a single and easy-to-use app.\n              </Typography>\n\n              <Box m={4} />\n\n              <Link style={{textDecoration: 'none'}} to=\"/app\">\n                <Button variant=\"contained\" size=\"large\">\n                  <Typography variant=\"h5\">\n                    Use Solstake\n                  </Typography>\n                </Button>\n              </Link>\n    \n              <Box m={4} />\n\n              <Typography color=\"primary\" variant=\"h5\">\n                We’re just getting started around here. In the meantime stay updated on product releases, new features and more by subscribing below.\n              </Typography>\n    \n              <Box m={4} />\n\n              <TextField\n                label=\"Enter your email\"\n                variant=\"outlined\"\n                style={{width: '40%'}}\n                error={email !== '' && !isEmailValid}\n                helperText={(email !== '' && !isEmailValid) ? 'Invalid' : null}\n                onKeyDown={async (event) => {\n                  if (event.key === 'Enter') {\n                    await submitAndFeedback();\n                  }\n                }}\n                onChange={(event) => {\n                  const email = event.target.value;\n                  setEmail(email);\n\n                  const isValid = validateEmail(email);\n                  setIsEmailValid(isValid);\n                }}\n                value={email}\n                InputProps={{\n                  endAdornment: <SendButton\n                    callback={submitAndFeedback}\n                    disabled={!isEmailValid}\n                  />\n                }}\n              />\n    \n              <Box m={3} />\n    \n              <div>\n                <IconButton\n                  href=\"https://github.com/rooware-io/solstake\"\n                  rel=\"noopener noreferrer\" target=\"_blank\"\n                >\n                  <GitHub style={styles.largeIcon} />\n                </IconButton>\n                <IconButton\n                  onClick={() => setOpenVideo(true)}\n                >\n                  <YouTube style={styles.largeIcon} />\n                </IconButton>\n                <IconButton\n                  href=\"https://discord.gg/r5fZHdfu\"\n                  rel=\"noopener noreferrer\" target=\"_blank\"\n                >\n                  <SvgIcon style={styles.largeIcon}>\n                    <Discord />\n                  </SvgIcon>\n                </IconButton>\n                <IconButton\n                  href=\"https://twitter.com/solstakeio\"\n                  rel=\"noopener noreferrer\" target=\"_blank\"\n                >\n                  <Twitter style={styles.largeIcon} />\n                </IconButton>\n              </div>\n            </Grid>\n          </Grid>\n        </div>\n        <Dialog\n          title=\"Email sent!\"\n          fullWidth={true}\n          open={open}\n          onClose={handleClose}\n        >\n          <DialogTitle>Email sent!</DialogTitle>\n          <DialogContent>\n            <Box m={1}>\n              <Typography>\n                Thank you for registering, we will get back to you when solstake is production ready\n              </Typography>\n            </Box>\n          </DialogContent>\n  \n          <DialogActions>\n            <Button onClick={handleClose} color=\"primary\">\n              OK\n            </Button>\n          </DialogActions>\n        </Dialog>\n        <Dialog\n          open={openVideo}\n          fullWidth\n          maxWidth=\"md\"\n          onClose={handleCloseVideo}\n        >\n          <div className=\"videoWrapper\">\n            <iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/JUDG6j5ktW4\" title=\"YouTube video player\" frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\n          </div>\n        </Dialog>\n        {/* <div id=\"stars\"></div>\n        <div id=\"stars2\"></div>\n        <div id=\"stars3\"></div> */}\n        <Snackbar open={message.open} autoHideDuration={10000} onClose={handleCloseSnackbar}>\n          <Alert onClose={handleClose} severity={message.severity}>\n            {message.content}\n          </Alert>\n        </Snackbar>\n      </div>\n    );\n  }","import { createMuiTheme } from \"@material-ui/core\";\n\nexport const theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#FFFFFF',\n    },\n    secondary: {\n      main: '#3D96A0'\n    }\n  },\n  typography: {\n    fontFamily: '\"Red Hat Display\", sans-serif'\n  }\n});","import React from 'react';\n//import logo from './logo.svg';\nimport './App.css';\nimport {\n  HashRouter as Router,\n  Route\n} from 'react-router-dom';\nimport DApp from './views/DApp';\nimport { Landing } from './views/Landing';\nimport { ConnectionProvider } from './contexts/connection';\nimport { WalletProvider } from './contexts/wallet';\nimport { ThemeProvider } from '@material-ui/core';\nimport { theme } from './assets/theme';\nimport { EpochProvider } from './contexts/epoch';\nimport { AccountsProvider } from './contexts/accounts';\nimport { SnackbarProvider } from 'notistack';\nimport { ValidatorsProvider } from './contexts/validators';\n\nfunction App() {\n  return (\n    <ConnectionProvider>\n      <WalletProvider>\n        <AccountsProvider>\n          <EpochProvider>\n            <ValidatorsProvider>\n              <SnackbarProvider maxSnack={5} autoHideDuration={10000}>\n                <ThemeProvider theme={theme}>\n                  <Router>\n                    <Route exact path='/' component={Landing} />\n                    <Route path='/app' component={DApp} />\n                  </Router>\n                </ThemeProvider>\n              </SnackbarProvider>\n            </ValidatorsProvider>\n          </EpochProvider>\n        </AccountsProvider>\n      </WalletProvider>\n    </ConnectionProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}